(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{158:function(e,t,a){e.exports=a(215)},180:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(11),r=a.n(l),o=a(22),c=a(13),s=a(14),u=a(16),m=a(15),d=a(139),h=a.n(d).a.create({baseURL:"https://artyline.herokuapp.com/",withCredentials:!0});function v(e){var t,a;if(null===(t=e.response)||void 0===t?void 0:t.data)throw console.log(e.response&&(null===(a=e.response)||void 0===a?void 0:a.data)),e;throw e}var p={service:h,signup:function(e){return h.post("/api/auth/signup",e).then((function(e){return e.data})).catch(v)},signin:function(e){return h.post("/api/auth/signin",e).then((function(e){return e.data})).catch(v)},isLoggedIn:function(){return h.get("/api/auth/isLoggedIn").then((function(e){return e.data})).catch(v)},logout:function(){return h.get("/api/auth/logout").then((function(e){return e.data})).catch(v)},getActivities:function(){return h.get("/api/activity").then((function(e){return e.data})).catch(v)},getActivity:function(e){return h.get("/api/activity/".concat(e)).then((function(e){return e.data})).catch(v)},removeActivity:function(e){return h.delete("/api/activity/".concat(e)).then((function(e){return e.data})).catch(v)},updateActivity:function(e,t){return h.patch("/api/activity/".concat(e),t).then((function(e){return e.data})).catch(v)},getUserActivities:function(e){return h.get("/api/activity/user/".concat(e)).then((function(e){return e.data})).catch(v)},addActivity:function(e){return h.post("/api/activity",e).then((function(e){return e.data})).catch(v)},getFavActivities:function(e){return h.get("/api/activity/favorites/".concat(e)).then((function(e){return e.data})).catch(v)},removeActivityFromFav:function(e,t){return h.delete("/api/activity/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch(v)},addActivityToFav:function(e,t){return h.post("/api/activity/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch(v)},addMark:function(e,t,a){return h.post("/api/activity/marks/".concat(e,"/").concat(t),{mark:a}).then((function(e){return e.data})).catch(v)},addComment:function(e,t,a){return h.post("/api/activity/comments/".concat(e,"/").concat(t),{comment:a}).then((function(e){return e.data})).catch(v)}},g=i.a.createContext(),f=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={user:null,isLoggedIn:!1,isLoading:!0},e.setUser=function(t){e.setState({user:t,isLoggedIn:!0})},e.removeUser=function(){e.setState({user:null,isLoggedIn:!1})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getUserData()}},{key:"getUserData",value:function(){var e=this;p.isLoggedIn().then((function(t){console.log(t),e.setState({user:t,isLoggedIn:!0,isLoading:!1})})).catch((function(t){console.log(t),e.setState({user:null,isLoggedIn:!1,isLoading:!1})}))}},{key:"render",value:function(){var e=this,t={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,reloadData:function(){return e.getUserData()},isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading};return i.a.createElement(g.Provider,{value:t},this.props.children)}}]),a}(n.Component),y=a(63),E=a(12),b=function(e){return function(t){return i.a.createElement(g.Consumer,null,(function(a){return i.a.createElement(e,Object.assign({},t,{context:a}))}))}},x=(a(180),b((function(e){var t=e.context;return i.a.createElement("nav",{className:"NavMain"},i.a.createElement(o.c,{exact:!0,to:"/"},i.a.createElement("div",{className:"site-title"},i.a.createElement("img",{className:"logo",src:"../../images/1.png",alt:"Logo ARTLINE"}),i.a.createElement("h2",{className:"logo"},"ART'LINE"))),i.a.createElement("ul",{className:"nav-list"},t.isLoggedIn&&i.a.createElement(i.a.Fragment,null,i.a.createElement("li",null,i.a.createElement(o.c,{to:"/profile"},i.a.createElement("span",{style:{fontFamily:"Barlow-Light",fontSize:"14px"}},t.user&&t.user.email))),i.a.createElement("li",null,i.a.createElement("span",{style:{fontFamily:"Barlow-Light",fontSize:"14px"},onClick:function(){p.logout().then((function(){t.removeUser()})).catch((function(e){console.log(e)}))}},"Logout"))),!t.isLoggedIn&&i.a.createElement(i.a.Fragment,null,i.a.createElement("li",null,i.a.createElement(o.c,{to:"/signin"},"Log in")),i.a.createElement("li",null,i.a.createElement(o.c,{to:"/signup"},"Create account")))))}))),k=a(44),C=a(108),w=a(105),j=a.n(w),F=a(101),O=a.n(F),A=a(102),S=a.n(A),N=a(252),L=a(6),D=a(253),V=a(94),I=a.n(V),T=a(95),M=a.n(T),R=a(93),_=a.n(R),B=a(89),W=a.n(B),U=a(90),z=a.n(U),P=a(91),J=a.n(P),q=a(92),G=a.n(q),H=a(142),K=a.n(H),Y=a(143),Z=a.n(Y),Q=a(104),X=a.n(Q),$=a(103),ee=a.n($),te=a(30),ae=a(57),ne=a.n(ae),ie=a(220),le=a(254),re=Object(L.a)({iconFilled:{color:"#ff6d75"},iconHover:{color:"#ff3d47"}})(D.a),oe={comment:"",mark:0},ce=b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target.value,a=e.target.name;n.setState(Object(te.a)({},a,t))},n.handleChange=n.handleChange.bind(Object(k.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(k.a)(n)),n.props=e,n.state=oe,n}return Object(s.a)(a,[{key:"sendComment",value:function(){var e=this;return console.log("hehe getting coms"),p.addComment(this.props.context.user._id,this.props.activity._id,this.state.comment).then((function(t){return e.setState({success:!0}),Promise.resolve(!0)})).catch((function(e){console.log(e)}))}},{key:"getMark",value:function(){var e=this;return console.log("hehe getting mark"),p.addMark(this.props.context.user._id,this.props.activity._id,this.state.mark).then((function(t){return e.setState({success:!0}),Promise.resolve(!0)})).catch((function(e){console.log(e)}))}},{key:"handleSubmit",value:function(){var e=this;console.log("hehe vchui l\xe0");var t=this.state,a=t.mark,n=t.comment;console.log({mark:a,comment:n}),this.getMark().then((function(){return e.sendComment()})).then((function(){e.setState(oe),e.props.reload()}))}},{key:"render",value:function(){var e=this;return i.a.createElement(le.a,{component:"fieldset",mb:3,borderColor:"transparent"},i.a.createElement("h1",{className:"center",style:{paddingTop:"70px"}},"Partagez votre avis :"),i.a.createElement("div",{className:"center"},i.a.createElement(re,{max:10,name:"mark",defaultValue:2,onChange:function(t){return e.handleChange(t)},getLabelText:function(e){return"".concat(e," Heart").concat(1!==e?"s":"")},precision:.5,icon:i.a.createElement(ne.a,{fontSize:"inherit"})})),!!this.state.mark&&i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",{style:{display:"flex",justifyContent:"center",textAlign:"center",marginLeft:"20rem",marginRight:"20rem",flexDirection:"column"},lassName:"center"},"Votre note : ",this.state.mark)),i.a.createElement("div",{style:{display:"flex",justifyContent:"center",textAlign:"center",marginLeft:"20rem",marginRight:"20rem",flexDirection:"column"}},i.a.createElement("p",{className:{padding:"20px 0"}},"Laissez un commentaire sur l'activit\xe9 :"),i.a.createElement("div",{style:{fontFamily:"Barlow"}},i.a.createElement(ie.a,{name:"comment",style:{fontFamily:"Barlow",width:"100%"},"aria-label":"empty textarea",placeholder:"Votre mot doux...",rows:4,value:this.state.comment,onChange:function(t){return e.handleChange(t)}})),i.a.createElement("button",{style:{backgroundColor:"black",fontFamily:"Barlow",justifyContent:"center",textAlign:"center",alignItems:"center",color:"white"},onClick:this.handleSubmit},"PARTAGEZ")))}}]),a}(n.Component));Object(L.a)({iconFilled:{color:"#ff6d75"},iconHover:{color:"#ff3d47"}})(D.a);function se(e){var t=e.isFav,a=e.remove,l=e.add,r=e.loggedIn,o=e.activity,c=e.reload,s=(e.reloadUser,Object(n.useState)(!1)),u=Object(y.a)(s,2),m=u[0],d=u[1],h=Object(n.useState)(null),v=Object(y.a)(h,2);v[0],v[1];function p(){d(!1),c()}return i.a.createElement("div",{style:{position:"absolute",top:"0px",right:"0px",width:"297px",padding:"5px 0px",textAlign:"center",background:"white",borderTopLeftRadius:"15px",borderTopRightRadius:"15px"}},r&&i.a.createElement("span",{style:{display:"flex",paddingRight:"5px",justifyContent:"flex-end"},onClick:function(){return t?a():l()}},i.a.createElement(O.a,{onClick:function(){return d(!0)}}),t?i.a.createElement(S.a,null):i.a.createElement(ee.a,null)),i.a.createElement(N.a,{style:{left:"20vw",width:"60vw",top:"20vh",height:"60vh",border:"none"},onClose:function(){return d(!1)},open:m},i.a.createElement("div",{className:"center",style:{background:"white",height:"100%",width:"100%",textAlign:"center"}},i.a.createElement(ce,{activity:o,reload:function(){return p()}}))))}var ue=b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={showDescription:!1},e}return Object(s.a)(a,[{key:"addFav",value:function(){console.log("ADD"),p.addActivityToFav(this.props.context.user._id,this.props.activity._id).then(this.props.context.reloadData)}},{key:"toggleDescription",value:function(){this.setState({showDescription:!this.state.showDescription})}},{key:"removeFav",value:function(){console.log("REMOVE"),p.removeActivityFromFav(this.props.context.user._id,this.props.activity._id).then(this.props.context.reloadData)}},{key:"getFilterImg",value:function(e){var t,a=["Vid\xe9o, flux en direct, programmes en diff\xe9r\xe9","Audio, radio, podcasts","Concerts, spectacles","Expositions virtuelles","Jeux","Enfants"],n=["../../images/2.png","../../images/5.png","../../images/6.png","../../images/7.png","../../images/4.png","../../images/8.png","../../images/15.png"],i="../../images/15.png";for(t=0;t<a.length;t++)return e===a[t]?n[t]:i}},{key:"render",value:function(){var e,t,a,n,l,r=this,c=this.props.activity,s=c.marks.map((function(e){return e.mark})),u=s.length>0?s.reduce((function(e,t){return Number(e)+Number(t)}),0)/s.length:"Pas de notes";console.log(c.marks);var m=c.comments.length,d={isFav:!!(null===(e=this.props.context)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.favorites)&&(null===(a=this.props.context)||void 0===a||null===(n=a.user)||void 0===n?void 0:n.favorites.map((function(e){return e._id})).includes(c._id)),activity:c,remove:function(){return r.removeFav()},add:function(){return r.addFav()},loggedIn:this.props.context.isLoggedIn,editMode:this.props.editMode,reload:function(){return r.props.reload()},reloadUser:this.props.context.reloadData};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"card"},i.a.createElement(se,d),i.a.createElement(o.b,{to:"/activity/".concat(c._id)},i.a.createElement("div",{className:"card-image"},i.a.createElement("img",{className:"card-image",src:c.img,alt:"test"}),i.a.createElement("h2",{style:{fontFamily:"Barlow-light",fontSize:"1.5rem",borderRadius:"12px",textAlign:"center",margin:"5px",paddingTop:"10px"}},c.title||"notitle"))),i.a.createElement("div",{className:"card-text"},!!(null===c||void 0===c||null===(l=c.description)||void 0===l?void 0:l.trim())&&i.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){return r.toggleDescription()}},i.a.createElement(me,{activity:c}),i.a.createElement("div",null,i.a.createElement("h3",{style:{fontFamily:"Barlow-light",fontWeight:"500",fontSize:"0.8rem",borderRadius:"12px",textAlign:"center",margin:"5px",padding:"8x"}},"Description"," "),this.state.showDescription?i.a.createElement(K.a,null):i.a.createElement(Z.a,null),this.state.showDescription&&i.a.createElement("div",{style:{fontFamily:"Barlow-light",fontSize:"0.8rem",borderRadius:"12px",textAlign:"justify",margin:"5px",padding:"8x"}},c.description))),i.a.createElement("div",null,this.props.editMode&&i.a.createElement("span",{onClick:function(){return r.props.onEdit(c._id)}},"\xc9DITE-MOI")),i.a.createElement("div",null,this.props.editMode&&i.a.createElement("span",{onClick:function(){return r.props.onDelete(c._id)}},"DELETE")),i.a.createElement("div",null,c.theme.map((function(e){return i.a.createElement("button",{style:{textTransform:"uppercase",background:"black",fontFamily:"Barlow",color:"white",fontSize:"0.7rem",borderRadius:"12px",margin:"5px",padding:"8x"},key:e},e)})))),i.a.createElement("div",{className:"card-stats"},i.a.createElement("div",{className:"stats"},i.a.createElement("div",{className:"value"},u),i.a.createElement("div",{className:"type"}," ",i.a.createElement(X.a,null))),i.a.createElement("div",{className:"stats"},i.a.createElement("div",{className:"value"},m),i.a.createElement("div",{className:"type"},i.a.createElement(j.a,null))))))}}]),a}(n.Component));function me(e){var t,a,n,l,r,o,c,s,u,m,d,h,v,p,g=e.activity;return(null===g||void 0===g||null===(t=g.type)||void 0===t?void 0:t.includes("Vid\xe9o, flux en direct, programmes en diff\xe9r\xe9"))&&(s=!0),(null===g||void 0===g||null===(a=g.type)||void 0===a?void 0:a.includes("Audio, radio, podcasts"))&&(u=!0),(null===g||void 0===g||null===(n=g.type)||void 0===n?void 0:n.includes("Expositions virtuelles"))&&(m=!0),(null===g||void 0===g||null===(l=g.category)||void 0===l?void 0:l.includes("Concerts, spectacles"))&&(d=!0),(null===g||void 0===g||null===(r=g.category)||void 0===r?void 0:r.includes("Jeux"))&&(h=!0),(null===g||void 0===g||null===(o=g.public)||void 0===o?void 0:o.includes("Enfants"))&&(v=!0),0===(null===g||void 0===g||null===(c=g.access)||void 0===c?void 0:c.length)&&(p=!0),i.a.createElement("div",null,s&&i.a.createElement(W.a,null),u&&i.a.createElement(z.a,null),m&&i.a.createElement(J.a,null),d&&i.a.createElement(G.a,null),h&&i.a.createElement(_.a,null),v&&i.a.createElement(I.a,null),p&&i.a.createElement(M.a,null))}var de=a(144),he=a.n(de),ve=a(245),pe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={searchValue:"",onlyVideo:!1,onlyAudio:!1,onlyExpo:!1,onlyShow:!1,onlyGame:!1,onlyKid:!1,onlyAccess:!1,activities:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getFilteredValues("")}},{key:"getFilteredValues",value:function(e){var t,a=this;0!==this.props.activities.length&&(t=Object(C.a)(this.props.activities).filter((function(t){var n,i,l,r=null===t||void 0===t?void 0:t.title.toLowerCase().includes(e.toLowerCase()),o=null===t||void 0===t||null===(n=t.description)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()),c=null===t||void 0===t||null===(i=t.category)||void 0===i?void 0:i.includes(e.toLowerCase()),s=null===t||void 0===t?void 0:t.theme.includes(e.toLowerCase()),u=null===t||void 0===t||null===(l=t.owner_name)||void 0===l?void 0:l.toLowerCase().includes(e.toLowerCase()),m=!0;if(a.state.onlyVideo||a.state.onlyAudio||a.state.onlyExpo||a.state.onlyShow||a.state.onlyGame||a.state.onlyKid||a.state.onlyAccess){var d,h=!1;if(a.state.onlyVideo)(null===t||void 0===t||null===(d=t.type)||void 0===d?void 0:d.includes("Vid\xe9o, flux en direct, programmes en diff\xe9r\xe9"))&&(h=!0);var v,p=!1;if(a.state.onlyAudio)(null===t||void 0===t||null===(v=t.type)||void 0===v?void 0:v.includes("Audio, radio, podcasts"))&&(p=!0);var g,f=!1;if(a.state.onlyExpo)(null===t||void 0===t||null===(g=t.type)||void 0===g?void 0:g.includes("Expositions virtuelles"))&&(f=!0);var y,E=!1;if(a.state.onlyShow)(null===t||void 0===t||null===(y=t.category)||void 0===y?void 0:y.includes("Concerts, spectacles"))&&(E=!0);var b,x=!1;if(a.state.onlyGame)(null===t||void 0===t||null===(b=t.category)||void 0===b?void 0:b.includes("Jeux"))&&(x=!0);var k,C=!1;if(a.state.onlyKid)(null===t||void 0===t||null===(k=t.public)||void 0===k?void 0:k.includes("Enfants"))&&(C=!0);var w=!1;a.state.onlyAccess&&0===t.access.length&&(w=!0),m=h||p||f||E||x||C||w}return(r||o||c||s||u)&&m})),this.setState({activities:t,searchValue:e}))}},{key:"handleSearch",value:function(e){this.getFilteredValues(e)}},{key:"videoFilter",value:function(){var e=this;this.setState({onlyVideo:!this.state.onlyVideo},(function(){e.getFilteredValues(e.state.searchValue)}))}},{key:"audioFilter",value:function(){var e=this;this.setState({onlyAudio:!this.state.onlyAudio},(function(){e.getFilteredValues(e.state.searchValue)}))}},{key:"expoFilter",value:function(){var e=this;this.setState({onlyExpo:!this.state.onlyExpo},(function(){e.getFilteredValues(e.state.searchValue)}))}},{key:"showFilter",value:function(){var e=this;this.setState({onlyShow:!this.state.onlyShow},(function(){e.getFilteredValues(e.state.searchValue)}))}},{key:"gameFilter",value:function(){var e=this;this.setState({onlyGame:!this.state.onlyGame},(function(){e.getFilteredValues(e.state.searchValue)}))}},{key:"kidFilter",value:function(){var e=this;this.setState({onlyKid:!this.state.onlyKid},(function(){e.getFilteredValues(e.state.searchValue)}))}},{key:"accessFilter",value:function(){var e=this;this.setState({onlyAccess:!this.state.onlyAccess},(function(){e.getFilteredValues(e.state.searchValue)}))}},{key:"sortbyMark",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Object(C.a)(e).filter((function(e){return Boolean(null===e||void 0===e?void 0:e.marks.length)}));return n.sort((function(e,a){return t.avg(e.marks)-t.avg(a.marks)})),n.filter((function(e,t){return t<a}))}},{key:"avg",value:function(e){return Math.floor(e.reduce((function(e,t){return e+t}),0)/e.length)}},{key:"render",value:function(){var e,t,a=this,n=(null===this||void 0===this||null===(e=this.state)||void 0===e||null===(t=e.activities)||void 0===t?void 0:t.length)?this.sortbyMark(this.state.activities,3):[];return i.a.createElement("div",null,i.a.createElement("h1",{className:"margin center"},"Bienvenue sur ART'LINE"),i.a.createElement("h2",{className:"margin center"},"TOP ",3),i.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap"}},n.map((function(e){return i.a.createElement(ue,{activity:e})}))),i.a.createElement("div",{className:"center"},i.a.createElement(he.a,{className:"margin search-bar ",placeholder:"Rechercher une activit\xe9...",value:this.state.searchValue,onChange:function(e){return a.handleSearch(e)}})),i.a.createElement("div",{className:"center"},i.a.createElement("div",null,i.a.createElement(ve.a,{style:this.state.onlyVideo?{color:"black",backgroundColor:"rgba(255, 255, 255, 0.5)",fontWeight:"900",fontFamily:"Barlow"}:{},onClick:function(){return a.videoFilter()}},i.a.createElement("div",{className:"filter-btn"}," ",i.a.createElement(W.a,null),i.a.createElement("span",null,"Film & Vid\xe9o")))),i.a.createElement("div",null,i.a.createElement(ve.a,{style:this.state.onlyAudio?{color:"black",backgroundColor:"rgba(255, 255, 255, 0.5)",fontWeight:"900",fontFamily:"Barlow"}:{},onClick:function(){return a.audioFilter()}},i.a.createElement("div",{className:"filter-btn"},i.a.createElement(z.a,null),i.a.createElement("span",null,"Audio")))),i.a.createElement("div",null,i.a.createElement(ve.a,{style:this.state.onlyShow?{color:"black",backgroundColor:"rgba(255, 255, 255, 0.5)",fontWeight:"900",fontFamily:"Barlow"}:{},onClick:function(){return a.showFilter()}},i.a.createElement("div",{className:"filter-btn"},i.a.createElement(G.a,null),i.a.createElement("span",null,"Spectacle")))),i.a.createElement("div",null,i.a.createElement(ve.a,{style:this.state.onlyExpo?{color:"black",backgroundColor:"rgba(255, 255, 255, 0.5)",fontWeight:"900",fontFamily:"Barlow"}:{},onClick:function(){return a.expoFilter()}},i.a.createElement("div",{className:"filter-btn"},i.a.createElement(J.a,null),i.a.createElement("span",null,"Expo virtuelles")))),i.a.createElement("div",null,i.a.createElement(ve.a,{style:this.state.onlyGame?{color:"black",backgroundColor:"rgba(255, 255, 255, 0.5)",fontWeight:"900",fontFamily:"Barlow"}:{},onClick:function(){return a.gameFilter()}},i.a.createElement("div",{className:"filter-btn"},i.a.createElement(_.a,null),i.a.createElement("span",null,"Jeux")))),i.a.createElement("div",null,i.a.createElement(ve.a,{style:this.state.onlyKid?{color:"black",backgroundColor:"rgba(255, 255, 255, 0.5)",fontWeight:"900",fontFamily:"Barlow"}:{},onClick:function(){return a.kidFilter()}},i.a.createElement("div",{className:"filter-btn"},i.a.createElement(I.a,null)," ",i.a.createElement("span",null,"Enfants")))),i.a.createElement("div",null,i.a.createElement(ve.a,{style:this.state.onlyAccess?{color:"black",backgroundColor:"rgba(255, 255, 255, 0.5)",fontWeight:"900",fontFamily:"Barlow"}:{},onClick:function(){return a.accessFilter()}}," ",i.a.createElement("div",{className:"filter-btn"},i.a.createElement(M.a,null),i.a.createElement("span",null,"Accessible SME"))))),i.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap"}},this.state.activities.map((function(e){return i.a.createElement(ue,{key:e._id,reload:a.props.reload,activity:e})}))))}}]),a}(n.Component),ge=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={activities:[]},n.loadActivities=n.loadActivities.bind(Object(k.a)(n)),n}return Object(s.a)(a,[{key:"loadActivities",value:function(){var e=this;p.getActivities().then((function(t){e.setState({activities:t})}))}},{key:"componentDidMount",value:function(){this.loadActivities()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"website-title"},i.a.createElement("div",{className:"video-container"},i.a.createElement("video",{loop:!0,autoplay:"autoplay",id:"vid",muted:!0},i.a.createElement("source",{src:"../../videos/landing.mp4",type:"video/mp4"}))),i.a.createElement("div",{className:"caption-website-title"},i.a.createElement("h1",null,"ART'LINE"),i.a.createElement("h2",null,"Culture from home."))),this.state.activities.length>0&&i.a.createElement(pe,{reload:this.loadActivities,activities:this.state.activities}))}}]),a}(i.a.Component),fe=a(248),ye=a(251),Ee=a(250),be=a(249),xe=a(222),ke=a(246),Ce=a(247),we=a(145),je=a(47),Fe=a.n(je),Oe=a(244),Ae=Object(we.a)({palette:{primary:{main:Fe.a[900]},secondary:{main:Fe.a[900]}}}),Se=Object(ke.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={email:"",password:""},e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:"checkbox"===t.target.type?t.target.checked:t.target.value;e.setState(Object(te.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault(),p.signin(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/")})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.setBackground("transparent")}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(Oe.a,{theme:Ae},i.a.createElement(Ce.a,{className:"sign-in",component:"main",maxWidth:"xs"},i.a.createElement(fe.a,null),i.a.createElement("div",{className:e.paper},i.a.createElement("div",{className:"center"},i.a.createElement("img",{className:"sign-img",src:"../../images/hey.png",alt:"Logo ARTLINE"})),i.a.createElement(xe.a,null,i.a.createElement("h2",null,"Heureux de vous retrouver !")),i.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit,className:e.form,noValidate:!0},i.a.createElement(ye.a,{InputLabelProps:{style:{fontFamily:"Barlow"}},variant:"outlined",margin:"normal",color:"black",required:!0,fullWidth:!0,id:"email",label:"Adresse Email",name:"email",autoComplete:"email",autoFocus:!0}),i.a.createElement(ye.a,{InputLabelProps:{style:{fontFamily:"Barlow"}},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Mot de passe",type:"password",id:"password",autoComplete:"current-password"}),i.a.createElement(ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Se connecter"),i.a.createElement(be.a,{container:!0,justify:"flex-end"},i.a.createElement(be.a,{item:!0},i.a.createElement(Ee.a,{href:"/signup",variant:"body2"},"Pas encore inscrit ? Rejoignez-nous !"))))),i.a.createElement(le.a,{mt:8})))}}]),a}(n.Component);Ne.contextType=g;var Le,De=(Le=Object(E.h)(Ne),function(e){var t=Se();return i.a.createElement(Le,Object.assign({},e,{classes:t}))}),Ve=(a(212),function(e){return console.log(e),i.a.createElement(De,e)}),Ie=Object(we.a)({palette:{primary:{main:Fe.a[900]},secondary:{main:Fe.a[900]}}}),Te=Object(ke.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Me=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={email:"",password:""},e.handleChange=function(t){var a="file"===t.target.type?t.target.files[0]:"checkbox"===t.target.type?t.target.checked:t.target.value,n=t.target.name;e.setState(Object(te.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault(),p.signup(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/")})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(Oe.a,{theme:Ie},i.a.createElement(Ce.a,{component:"main",maxWidth:"xs"},i.a.createElement(fe.a,null),i.a.createElement("div",{className:e.paper},i.a.createElement("div",{className:"center"},i.a.createElement("img",{className:"sign-img",src:"../../images/hi.png",alt:"Logo ARTLINE"})),i.a.createElement(xe.a,null,i.a.createElement("h2",null,"Bienvenue sur ART'LINE !")),i.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit,className:e.form,noValidate:!0},i.a.createElement(be.a,{container:!0,spacing:2},i.a.createElement(be.a,{item:!0,xs:12},i.a.createElement(ye.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Adresse Email",name:"email",autoComplete:"email"})),i.a.createElement(be.a,{item:!0,xs:12},i.a.createElement(ye.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Mot de passe",type:"password",id:"password",autoComplete:"current-password"})),i.a.createElement(be.a,{item:!0,xs:12})),i.a.createElement(ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"S'inscrire"," "),i.a.createElement(be.a,{container:!0,justify:"flex-end"},i.a.createElement(be.a,{item:!0},i.a.createElement(Ee.a,{href:"/signin",variant:"body2"},"D\xe9j\xe0 un compte ? Connectez-vous !"," "))))),i.a.createElement(le.a,{mt:5})))}}]),a}(n.Component);Me.contextType=g;var Re=function(e){return function(t){var a=Te();return i.a.createElement(e,Object.assign({},t,{classes:a}))}}(Object(E.h)(Me)),_e=function(e){return i.a.createElement(Re,null)},Be=a(146),We=b((function(e){var t=e.component,a=e.context,n=Object(Be.a)(e,["component","context"]);return a.isLoading?null:a.isLoggedIn?i.a.createElement(E.b,Object.assign({},n,{render:function(e){return i.a.createElement(t,e)}})):i.a.createElement(E.a,{to:"/signin"})})),Ue=a(64),ze=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={title:"",description:"",category:"",access:"",url:"",public:"",duration:"",owner_name:""},e.handleChange=function(t){var a=t.target.value,n=t.target.name;e.setState(Object(te.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault(),"create"===e.props.mode&&e.add(),"edit"===e.props.mode&&e.edit()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.editData)}},{key:"edit",value:function(){var e=this;p.updateActivity(this.props.editData,{title:this.state.title,img:this.state.img,creator:this.props.creator,description:this.state.description,category:this.state.category,access:this.state.access,url:this.state.url,public:this.state.public,duration:this.state.duration,owner_name:this.state.owner_name}).then((function(t){e.setState({success:!0}),e.props.context.reloadData(),e.props.closeForm()})).catch((function(e){console.log(e)}))}},{key:"add",value:function(){var e=this;p.addActivity({title:this.state.title,img:this.state.img,creator:this.props.context.user._id,description:this.state.description,category:this.state.category,access:this.state.access,public:this.state.public,url:this.state.url,duration:this.state.duration,owner_name:this.state.owner_name}).then((function(t){e.setState({success:!0}),e.props.context.reloadData(),e.props.closeForm()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.props.mode;return i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("h2",null,"edit"===e?"\xc9ditez une":"Ajouter une nouvelle"," activit\xe9"),i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("label",{htmlFor:"title"},"Nom de l'activit\xe9"),i.a.createElement("input",{type:"text",name:"title",id:"title",value:this.state.title,onChange:this.handleChange})),i.a.createElement("div",null,i.a.createElement("label",{htmlFor:"description"},"Description de l'activit\xe9"),i.a.createElement("input",{type:"text",name:"description",id:"description",value:this.state.description,onChange:this.handleChange})),i.a.createElement("div",null,i.a.createElement("label",{className:"label",htmlFor:"category"},"Type d'activit\xe9"),i.a.createElement("select",{name:"category",id:"category",onChange:this.handleChange,defaultValue:"-1"},i.a.createElement("option",{value:"-1",disabled:!0},"Selectionnez"),i.a.createElement("option",{value:"audio",name:"category"},"Musique, podcast, concert"),i.a.createElement("option",{value:"art",name:"category"},"Exposition en ligne"),i.a.createElement("option",{value:"video",name:"category"},"Film, documentaire, interview"),i.a.createElement("option",{value:"spectacle",name:"category"},"Spectacle, th\xe9\xe2tre, op\xe9ra, ballet"),i.a.createElement("option",{value:"livre",name:"category"},"Livre num\xe9rique, archives"),i.a.createElement("option",{value:"jeu",name:"category"},"Jeux, enigmes"))),i.a.createElement("div",null,i.a.createElement("label",{className:"label",htmlFor:"public"},"Contenu adapt\xe9 aux :"),i.a.createElement("label",{htmlFor:"public",name:"public"},"Enfants"),i.a.createElement("input",{type:"checkbox",id:"public",value:"kid",name:"public",onChange:this.handleChange}),i.a.createElement("label",{htmlFor:"access",name:"access"},"Sourds et malentendants"),i.a.createElement("input",{type:"checkbox",id:"access",value:"deaf",name:"access",onChange:this.handleChange}),i.a.createElement("div",null),i.a.createElement("label",{htmlFor:"url"},"Renseignez l'URL de la ressource en ligne :"),i.a.createElement("input",{type:"url",name:"url",id:"url",placeholder:"https://artline.com",pattern:"https://.*",value:this.state.url,required:!0,onChange:this.handleChange})),i.a.createElement("div",null,i.a.createElement("label",{htmlFor:"title"},"Activit\xe9 con\xe7ue par :"),i.a.createElement("input",{type:"text",name:"owner_name",id:"owner_name",value:this.state.owner_name,onChange:this.handleChange})),i.a.createElement("div",null,i.a.createElement("label",{className:"label",htmlFor:"duration"},"Dur\xe9e de l'activit\xe9"," "),i.a.createElement("select",{name:"duration",id:"duration",onChange:this.handleChange,defaultValue:"-1"},i.a.createElement("option",{value:"-1",disabled:!0},"Selectionnez"),i.a.createElement("option",{value:"half",name:"duration"},"30 mins ou moins"),i.a.createElement("option",{value:"one",name:"duration"},"1h environ"),i.a.createElement("option",{value:"two",name:"duration"},"2h environ"),i.a.createElement("option",{value:"morethantwo",name:"duration"},"Plus de 2h")))),i.a.createElement("button",null,"Envoyez !"))}}]),a}(n.Component),Pe=b(Object(E.h)(ze)),Je=b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={formMode:null,data:{},creator:null},e}return Object(s.a)(a,[{key:"createEvent",value:function(){this.setState(Object(Ue.a)(Object(Ue.a)({},this.state),{},{formMode:"create"}))}},{key:"editEvent",value:function(e){this.setState(Object(Ue.a)(Object(Ue.a)({},this.state),{},{formMode:"edit",data:e}))}},{key:"deleteEvent",value:function(e){var t=this;p.removeActivity(e).then((function(e){t.setState({success:!0}),console.log(t.props.context),t.props.context.reloadData()})).catch((function(e){console.log(e)}))}},{key:"getFav",value:function(e){var t=this;p.getUserActivity(e).then((function(e){t.setState({success:!0}),console.log(t.props.context),t.props.context.reloadData()})).catch((function(e){console.log(e)}))}},{key:"closeForm",value:function(){this.setState({formMode:null,data:{}})}},{key:"componentDidMount",value:function(){var e=this.props.context.user;console.log(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("h1",null,"Le profil perso"),null!==this.state.formMode&&i.a.createElement(Pe,{mode:this.state.formMode,creator:this.state.creator,editData:this.state.data,closeForm:function(){return e.closeForm()}}),i.a.createElement("button",{onClick:function(){return e.createEvent()}},"Cr\xe9er une nouvelle activit\xe9"),i.a.createElement("h2",null,"ACTIVIT\xc9S AJOUT\xc9ES"),this.props.context.user.activities.map((function(t,a){return i.a.createElement(ue,{key:a,activity:t,editMode:!0,onEdit:function(t){return e.editEvent(t)},onDelete:function(t){return e.deleteEvent(t)}})})),i.a.createElement("div",null,i.a.createElement("h2",null,"FAVORIS"),this.props.context.user.favorites.map((function(e,t){return i.a.createElement(ue,{key:t,activity:e})}))))}}]),a}(n.Component)),qe={textTransform:"uppercase",background:"black",fontFamily:"arial",color:"white",fontSize:"0.7rem",borderRadius:"12px",margin:"5px",padding:"8x"},Ge={display:"flex",justifyContent:"space-evenly",alignItems:"space-evenly",width:"100%",margin:"0 auto",flexWrap:"wrap",height:"400px",overflowY:"auto",border:"solid 1px black",borderRadius:"12px"},He=Object(L.a)({iconFilled:{color:"#ff6d75"},iconHover:{color:"#ff3d47"}})(D.a),Ke=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={activity:{title:"",_id:"",comments:[],marks:[]}},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=this,t=this.props.match.params.id;p.getActivity(t).then((function(t){e.setState({activity:t})})).catch((function(e){console.log(e)}))}},{key:"invert",value:function(e){for(var t=[],a=e.length-1;a>=0;a--)t.push(e[a]);return console.log(t),t}},{key:"render",value:function(){var e,t,a,n,l,r,o,c,s,u,m,d=this,h=this.state.activity.marks.map((function(e){return e.mark}));console.log(h);var v=this.state.activity.comments;(h.reduce((function(e,t){return Number(e)+Number(t)}),0)/h.length).toFixed(2);return i.a.createElement("div",null,i.a.createElement("h1",{style:{textAlign:"center",marginTop:"3%"}},this.state.activity.title)," ",i.a.createElement("h1",{style:{textAlign:"center"}}," ",i.a.createElement(me,{activity:this.state.activity})),i.a.createElement("h1",{className:"center"},!!h.length&&i.a.createElement(Xe,null)),i.a.createElement("div",{style:{textAlign:"justify",marginTop:"2%",display:"flex",justifyContent:"space-evenly"}},i.a.createElement("img",{style:{height:"350px"},src:null===this||void 0===this||null===(e=this.state)||void 0===e||null===(t=e.activity)||void 0===t?void 0:t.img,alt:null===this||void 0===this||null===(a=this.state)||void 0===a||null===(n=a.activity)||void 0===n?void 0:n.description}),i.a.createElement("div",{className:"padding",style:{padding:"30px"}},i.a.createElement("p",null,i.a.createElement("div",null,"Dur\xe9e de l'activit\xe9 : ",null===this||void 0===this||null===(l=this.state)||void 0===l||null===(r=l.activity)||void 0===r?void 0:r.duration)," "),i.a.createElement("div",null,i.a.createElement("p",null,"Tags : "),null===this||void 0===this||null===(o=this.state)||void 0===o||null===(c=o.activity)||void 0===c||null===(s=c.theme)||void 0===s?void 0:s.map((function(e){return i.a.createElement("button",{style:qe,key:e},e)}))," "),i.a.createElement("div",{style:{width:"500px"}},i.a.createElement("p",{style:{fontWeight:"900"}},"Description:"),i.a.createElement("p",null," ",null===this||void 0===this||null===(u=this.state)||void 0===u||null===(m=u.activity)||void 0===m?void 0:m.description)),i.a.createElement(Ee.a,{href:"{this?.state?.activity?.url}"},"Consulter la ressource")," ")),i.a.createElement("div",{style:{}},""!==this.state.activity.title&&this.props.context.isLoggedIn&&i.a.createElement(ce,{activity:this.state.activity,reload:function(){return d.getData()}})),i.a.createElement("div",{style:Ge},this.invert(v).map((function(e){return i.a.createElement(Ze,{key:e._id,comment:e})}))))}}]),a}(n.Component),Ye=["/images/comment/1.png","/images/comment/2.png","/images/comment/3.png","/images/comment/4.png","/images/comment/5.png","/images/comment/6.png","/images/comment/7.png","/images/comment/8.png"];function Ze(e){var t=e.comment,a=t.user,n=t.comment;console.log(a);var l=Ye[Math.floor(Math.random()*Ye.length)];return i.a.createElement("div",{style:{display:"flex",minWidth:"200px",height:"100px",borderRadius:"12px",background:"white",margin:"2%",flexDirection:"column",justifyContent:"space-evenly",padding:"20px"}},i.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},i.a.createElement("div",{style:{}}),i.a.createElement("div",null,i.a.createElement("img",{style:{paddingTop:"5px",height:"60px"},src:l,alt:"comments"})),i.a.createElement("div",null,a.email.split("@")[0]," \ud83d\udcac dit :")),i.a.createElement("div",{style:{display:"grid",placeItems:"center",fontFamily:"Barlow-Light"}},n))}var Qe=b(Object(E.h)(Ke));function Xe(e){var t=e.mean;return i.a.createElement(le.a,{component:"fieldset",mb:3,borderColor:"transparent"},i.a.createElement(xe.a,{component:"legend"},i.a.createElement("h2",null,t)),i.a.createElement(He,{name:"customized-color",value:t,readOnly:!0,getLabelText:function(e){return"".concat(e," Heart").concat(1!==e?"s":"")},max:10,precision:.5,icon:i.a.createElement(ne.a,{fontSize:"inherit"})}))}var $e=function(){var e=Object(n.useState)("transparent"),t=Object(y.a)(e,2),a=t[0],l=t[1],r=Object(E.g)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[r]),i.a.createElement("div",{style:{background:a},className:"App"},i.a.createElement(x,null),i.a.createElement("div",null,i.a.createElement(E.d,null,i.a.createElement(E.b,{exact:!0,path:"/",component:ge}),i.a.createElement(E.b,{exact:!0,path:"/activity/:id"},i.a.createElement(Qe,null)),i.a.createElement(E.b,{exact:!0,path:"/signin"},i.a.createElement(Ve,{setBackground:l})),i.a.createElement(E.b,{exact:!0,path:"/signup",component:_e}),i.a.createElement(We,{exact:!0,path:"/profile",component:Je}))))};a(213),a(214);r.a.render(i.a.createElement(o.a,{onUpdate:function(){return window.scrollTo(0,0)}},i.a.createElement(f,null,i.a.createElement($e,null))),document.getElementById("root"))}},[[158,1,2]]]);
//# sourceMappingURL=main.06ca8ea0.chunk.js.map