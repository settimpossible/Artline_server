(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{156:function(e,t,a){e.exports=a(213)},178:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(11),l=a.n(r),o=a(21),c=a(13),s=a(14),u=a(16),m=a(15),d=a(131),h=a.n(d).a.create({baseURL:"https://artyline.herokuapp.com/",withCredentials:!0});function p(e){var t,a;if(null===(t=e.response)||void 0===t?void 0:t.data)throw console.log(e.response&&(null===(a=e.response)||void 0===a?void 0:a.data)),e;throw e}var v={service:h,signup:function(e){return h.post("/api/auth/signup",e).then((function(e){return e.data})).catch(p)},signin:function(e){return h.post("/api/auth/signin",e).then((function(e){return e.data})).catch(p)},isLoggedIn:function(){return h.get("/api/auth/isLoggedIn").then((function(e){return e.data})).catch(p)},logout:function(){return h.get("/api/auth/logout").then((function(e){return e.data})).catch(p)},getActivities:function(){return h.get("/api/activity").then((function(e){return e.data})).catch(p)},getActivity:function(e){return h.get("/api/activity/".concat(e)).then((function(e){return e.data})).catch(p)},removeActivity:function(e){return h.delete("/api/activity/".concat(e)).then((function(e){return e.data})).catch(p)},updateActivity:function(e,t){return h.patch("/api/activity/".concat(e),t).then((function(e){return e.data})).catch(p)},getUserActivities:function(e){return h.get("/api/activity/user/".concat(e)).then((function(e){return e.data})).catch(p)},addActivity:function(e){return h.post("/api/activity",e).then((function(e){return e.data})).catch(p)},getFavActivities:function(e){return h.get("/api/activity/favorites/".concat(e)).then((function(e){return e.data})).catch(p)},removeActivityFromFav:function(e,t){return h.delete("/api/activity/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch(p)},addActivityToFav:function(e,t){return h.post("/api/activity/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch(p)},addMark:function(e,t,a){return h.post("/api/activity/marks/".concat(e,"/").concat(t),{mark:a}).then((function(e){return e.data})).catch(p)},addComment:function(e,t,a){return h.post("/api/activity/comments/".concat(e,"/").concat(t),{comment:a}).then((function(e){return e.data})).catch(p)}},g=i.a.createContext(),f=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={user:null,isLoggedIn:!1,isLoading:!0},e.setUser=function(t){e.setState({user:t,isLoggedIn:!0})},e.removeUser=function(){e.setState({user:null,isLoggedIn:!1})},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getUserData()}},{key:"getUserData",value:function(){var e=this;v.isLoggedIn().then((function(t){console.log(t),e.setState({user:t,isLoggedIn:!0,isLoading:!1})})).catch((function(t){console.log(t),e.setState({user:null,isLoggedIn:!1,isLoading:!1})}))}},{key:"render",value:function(){var e=this,t={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,reloadData:function(){return e.getUserData()},isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading};return i.a.createElement(g.Provider,{value:t},this.props.children)}}]),a}(n.Component),y=a(63),E=a(12),b=function(e){return function(t){return i.a.createElement(g.Consumer,null,(function(a){return i.a.createElement(e,Object.assign({},t,{context:a}))}))}},k=(a(178),b((function(e){var t=e.context;return i.a.createElement("nav",{className:"NavMain"},i.a.createElement(o.c,{exact:!0,to:"/"},i.a.createElement("div",{className:"site-title"},i.a.createElement("img",{className:"logo",src:"../../images/1.png",alt:"Logo ARTLINE"}),i.a.createElement("h2",{className:"logo"},"ART'LINE"))),i.a.createElement("ul",{className:"nav-list"},t.isLoggedIn&&i.a.createElement(i.a.Fragment,null,i.a.createElement("li",null,i.a.createElement(o.c,{to:"/profile"},i.a.createElement("span",{style:{fontFamily:"Barlow-Light",fontSize:"14px"}},t.user&&t.user.email))),i.a.createElement("li",null,i.a.createElement("span",{style:{fontFamily:"Barlow-Light",fontSize:"14px"},onClick:function(){v.logout().then((function(){t.removeUser()})).catch((function(e){console.log(e)}))}},"Logout"))),!t.isLoggedIn&&i.a.createElement(i.a.Fragment,null,i.a.createElement("li",null,i.a.createElement(o.c,{to:"/signin"},"Log in")),i.a.createElement("li",null,i.a.createElement(o.c,{to:"/signup"},"Create account")))))}))),x=a(101),C=a(98),w=a.n(C),j=a(94),O=a.n(j),F=a(95),S=a.n(F),A=a(256),N=a(6),L=a(257),D=a(97),V=a.n(D),I=a(96),M=a.n(I),T=a(30),_=a(57),W=a(56),B=a.n(W),U=a(218),R=a(258),z=Object(N.a)({iconFilled:{color:"#ff6d75"},iconHover:{color:"#ff3d47"}})(L.a),P={comment:"",mark:0},q=b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target.value,a=e.target.name;n.setState(Object(T.a)({},a,t))},n.handleChange=n.handleChange.bind(Object(_.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(_.a)(n)),n.props=e,n.state=P,n}return Object(s.a)(a,[{key:"sendComment",value:function(){var e=this;return console.log("hehe getting coms"),v.addComment(this.props.context.user._id,this.props.activity._id,this.state.comment).then((function(t){return e.setState({success:!0}),Promise.resolve(!0)})).catch((function(e){console.log(e)}))}},{key:"getMark",value:function(){var e=this;return console.log("hehe getting mark"),v.addMark(this.props.context.user._id,this.props.activity._id,this.state.mark).then((function(t){return e.setState({success:!0}),Promise.resolve(!0)})).catch((function(e){console.log(e)}))}},{key:"handleSubmit",value:function(){var e=this;console.log("hehe vchui l\xe0");var t=this.state,a=t.mark,n=t.comment;console.log({mark:a,comment:n}),this.getMark().then((function(){return e.sendComment()})).then((function(){e.setState(P),e.props.reload()}))}},{key:"render",value:function(){var e=this;return i.a.createElement(R.a,{component:"fieldset",mb:3,borderColor:"transparent"},i.a.createElement("h1",{style:{padding:"20px 0"}},"C koi les bails"),i.a.createElement(z,{max:10,name:"mark",defaultValue:2,onChange:function(t){return e.handleChange(t)},getLabelText:function(e){return"".concat(e," Heart").concat(1!==e?"s":"")},precision:.5,icon:i.a.createElement(B.a,{fontSize:"inherit"})}),!!this.state.mark&&i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Votre note :"),i.a.createElement("div",null,this.state.mark)),i.a.createElement("h1",{style:{padding:"20px 0"}},"Lache ton commentaire :"),i.a.createElement(U.a,{name:"comment",style:{width:"100%",fontFamily:"Barlow"},"aria-label":"empty textarea",placeholder:"Votre mot doux...",rows:4,value:this.state.comment,onChange:function(t){return e.handleChange(t)}}),i.a.createElement("button",{onClick:this.handleSubmit},"Envoyer votre revue !"))}}]),a}(n.Component));Object(N.a)({iconFilled:{color:"#ff6d75"},iconHover:{color:"#ff3d47"}})(L.a);function J(e){var t=e.isFav,a=e.remove,r=e.add,l=e.loggedIn,o=e.activity,c=Object(n.useState)(!1),s=Object(y.a)(c,2),u=s[0],m=s[1],d=Object(n.useState)(null),h=Object(y.a)(d,2);h[0],h[1];return i.a.createElement("div",{style:{position:"absolute",top:"5px",right:"5px",width:"50px",textAlign:"center",padding:"2px",background:"rgba(255,255,255,0.7)"}},l&&i.a.createElement("span",{style:{display:"flex"},onClick:function(){return t?a():r()}},i.a.createElement(O.a,{onClick:function(){return m(!0)}}),t?i.a.createElement(S.a,null):i.a.createElement(M.a,null)),i.a.createElement(A.a,{style:{left:"20vw",width:"60vw",top:"20vh",height:"60vh",border:"none"},onClose:function(){return m(!1)},open:u},i.a.createElement("div",{className:"center demescouilles",style:{background:"white",height:"100%",width:"100%",textAlign:"center"}},i.a.createElement(q,{activity:o}))))}var G=b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={showDescription:!1},e}return Object(s.a)(a,[{key:"addFav",value:function(){console.log("ADD"),v.addActivityToFav(this.props.context.user._id,this.props.activity._id).then(this.props.context.reloadData)}},{key:"toggleDescription",value:function(){this.setState({showDescription:!this.state.showDescription})}},{key:"removeFav",value:function(){console.log("REMOVE"),v.removeActivityFromFav(this.props.context.user._id,this.props.activity._id).then(this.props.context.reloadData)}},{key:"getFilterImg",value:function(e){var t,a=["Vid\xe9o, flux en direct, programmes en diff\xe9r\xe9","Audio, radio, podcasts","Concerts, spectacles","Expositions virtuelles","Jeux","Enfants"],n=["../../images/2.png","../../images/5.png","../../images/6.png","../../images/7.png","../../images/4.png","../../images/8.png","../../images/15.png"],i="../../images/15.png";for(t=0;t<a.length;t++)return e===a[t]?n[t]:i}},{key:"render",value:function(){var e,t,a,n,r,l=this,c=this.props.activity,s=c.marks.map((function(e){return e.mark})),u=s.length>0?s.reduce((function(e,t){return Number(e)+Number(t)}),0)/s.length:"Pas de notes";console.log(c.marks);var m=c.comments.length,d={isFav:!!(null===(e=this.props.context)||void 0===e||null===(t=e.user)||void 0===t?void 0:t.favorites)&&(null===(a=this.props.context)||void 0===a||null===(n=a.user)||void 0===n?void 0:n.favorites.map((function(e){return e._id})).includes(c._id)),activity:c,remove:function(){return l.removeFav()},add:function(){return l.addFav()},loggedIn:this.props.context.isLoggedIn,editMode:this.props.editMode};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"card"},i.a.createElement(J,d),i.a.createElement(o.b,{to:"/activity/".concat(c._id)},i.a.createElement("div",{className:"card-image"},i.a.createElement("img",{className:"card-image",src:c.img,alt:"test"}),i.a.createElement("h2",{className:"title"},c.title||"notitle"))),i.a.createElement("div",{className:"card-text"},!!(null===c||void 0===c||null===(r=c.description)||void 0===r?void 0:r.trim())&&i.a.createElement("div",{style:{cursor:"pointer"},onClick:function(){return l.toggleDescription()}},i.a.createElement("h3",null,"Description"),this.state.showDescription&&i.a.createElement("div",null,c.description))),i.a.createElement("div",{className:"card-stats"},i.a.createElement("div",{className:"stats"},i.a.createElement("div",{className:"value"},u),i.a.createElement("div",{className:"type"}," ",i.a.createElement(V.a,null))),i.a.createElement("div",{className:"stats"},i.a.createElement("div",{className:"value"},m),i.a.createElement("div",{className:"type"},i.a.createElement(w.a,null))))),i.a.createElement("div",null,this.props.editMode&&i.a.createElement("span",{onClick:function(){return l.props.onEdit(c)}},"\xc9DITE-MOI")),i.a.createElement("div",null,this.props.editMode&&i.a.createElement("span",{onClick:function(){return l.props.onDelete(c._id)}},"DELETE")))}}]),a}(n.Component)),H=a(134),K=a.n(H),Y=a(249),Q=a(140),X=a.n(Q),Z=a(141),$=a.n(Z),ee=a(139),te=a.n(ee),ae=a(135),ne=a.n(ae),ie=a(136),re=a.n(ie),le=a(138),oe=a.n(le),ce=a(137),se=a.n(ce),ue=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={searchValue:"",onlyVideo:!1,onlyAudio:!1,onlyExpo:!1,onlyShow:!1,onlyGame:!1,onlyKid:!1,onlyAccess:!1,activities:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getFilteredValues("")}},{key:"getFilteredValues",value:function(e){var t,a=this;0!==this.props.activities.length&&(t=Object(x.a)(this.props.activities).filter((function(t){var n,i,r,l=null===t||void 0===t?void 0:t.title.toLowerCase().includes(e.toLowerCase()),o=null===t||void 0===t||null===(n=t.description)||void 0===n?void 0:n.toLowerCase().includes(e.toLowerCase()),c=null===t||void 0===t||null===(i=t.category)||void 0===i?void 0:i.includes(e.toLowerCase()),s=null===t||void 0===t?void 0:t.theme.includes(e.toLowerCase()),u=null===t||void 0===t||null===(r=t.owner_name)||void 0===r?void 0:r.toLowerCase().includes(e.toLowerCase()),m=!0;if(a.state.onlyVideo||a.state.onlyAudio||a.state.onlyExpo||a.state.onlyShow||a.state.onlyGame||a.state.onlyKid||a.state.onlyAccess){var d,h=!1;if(a.state.onlyVideo)(null===t||void 0===t||null===(d=t.type)||void 0===d?void 0:d.includes("Vid\xe9o, flux en direct, programmes en diff\xe9r\xe9"))&&(h=!0);var p,v=!1;if(a.state.onlyAudio)(null===t||void 0===t||null===(p=t.type)||void 0===p?void 0:p.includes("Audio, radio, podcasts"))&&(v=!0);var g,f=!1;if(a.state.onlyExpo)(null===t||void 0===t||null===(g=t.type)||void 0===g?void 0:g.includes("Expositions virtuelles"))&&(f=!0);var y,E=!1;if(a.state.onlyShow)(null===t||void 0===t||null===(y=t.category)||void 0===y?void 0:y.includes("Concerts, spectacles"))&&(E=!0);var b,k=!1;if(a.state.onlyGame)(null===t||void 0===t||null===(b=t.category)||void 0===b?void 0:b.includes("Jeux"))&&(k=!0);var x,C=!1;if(a.state.onlyKid)(null===t||void 0===t||null===(x=t.public)||void 0===x?void 0:x.includes("Enfants"))&&(C=!0);var w=!1;a.state.onlyAccess&&0===t.access.length&&(w=!0),m=h||v||f||E||k||C||w}return(l||o||c||s||u)&&m})),this.setState({activities:t,searchValue:e}))}},{key:"handleSearch",value:function(e){this.getFilteredValues(e)}},{key:"videoFilter",value:function(){var e=this;this.setState({onlyVideo:!this.state.onlyVideo},(function(){e.getFilteredValues(e.state.searchValue)}))}},{key:"audioFilter",value:function(){var e=this;this.setState({onlyAudio:!this.state.onlyAudio},(function(){e.getFilteredValues(e.state.searchValue)}))}},{key:"expoFilter",value:function(){var e=this;this.setState({onlyExpo:!this.state.onlyExpo},(function(){e.getFilteredValues(e.state.searchValue)}))}},{key:"showFilter",value:function(){var e=this;this.setState({onlyShow:!this.state.onlyShow},(function(){e.getFilteredValues(e.state.searchValue)}))}},{key:"gameFilter",value:function(){var e=this;this.setState({onlyGame:!this.state.onlyGame},(function(){e.getFilteredValues(e.state.searchValue)}))}},{key:"kidFilter",value:function(){var e=this;this.setState({onlyKid:!this.state.onlyKid},(function(){e.getFilteredValues(e.state.searchValue)}))}},{key:"accessFilter",value:function(){var e=this;this.setState({onlyAccess:!this.state.onlyAccess},(function(){e.getFilteredValues(e.state.searchValue)}))}},{key:"sortbyMark",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Object(x.a)(e).filter((function(e){return Boolean(null===e||void 0===e?void 0:e.marks.length)}));return n.sort((function(e,a){return t.avg(e.marks)-t.avg(a.marks)})),n.filter((function(e,t){return t<a}))}},{key:"avg",value:function(e){return Math.floor(e.reduce((function(e,t){return e+t}),0)/e.length)}},{key:"render",value:function(){var e,t,a=this,n=(null===this||void 0===this||null===(e=this.state)||void 0===e||null===(t=e.activities)||void 0===t?void 0:t.length)?this.sortbyMark(this.state.activities,3):[];return i.a.createElement("div",null,i.a.createElement("h1",{className:"margin center"},"Bienvenue sur ART'LINE"),i.a.createElement("h2",{className:"margin center"},"TOP ",3),i.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap"}},n.map((function(e){return i.a.createElement(G,{activity:e})}))),i.a.createElement("div",{className:"center"},i.a.createElement(K.a,{className:"margin search-bar ",placeholder:"Rechercher une activit\xe9...",value:this.state.searchValue,onChange:function(e){return a.handleSearch(e)}})),i.a.createElement("div",{className:"center"},i.a.createElement("div",null,i.a.createElement(Y.a,{style:this.state.onlyVideo?{color:"black",backgroundColor:"rgba(255, 255, 255, 0.5)",fontWeight:"900",fontFamily:"Barlow"}:{},onClick:function(){return a.videoFilter()}},i.a.createElement("div",{className:"filter-btn"}," ",i.a.createElement(ne.a,null),i.a.createElement("span",null,"Film & Vid\xe9o")))),i.a.createElement("div",null,i.a.createElement(Y.a,{style:this.state.onlyAudio?{color:"black",backgroundColor:"rgba(255, 255, 255, 0.5)",fontWeight:"900",fontFamily:"Barlow"}:{},onClick:function(){return a.audioFilter()}},i.a.createElement("div",{className:"filter-btn"},i.a.createElement(re.a,null),i.a.createElement("span",null,"Audio")))),i.a.createElement("div",null,i.a.createElement(Y.a,{style:this.state.onlyShow?{color:"black",backgroundColor:"rgba(255, 255, 255, 0.5)",fontWeight:"900",fontFamily:"Barlow"}:{},onClick:function(){return a.showFilter()}},i.a.createElement("div",{className:"filter-btn"},i.a.createElement(se.a,null),i.a.createElement("span",null,"Spectacle")))),i.a.createElement("div",null,i.a.createElement(Y.a,{style:this.state.onlyExpo?{color:"black",backgroundColor:"rgba(255, 255, 255, 0.5)",fontWeight:"900",fontFamily:"Barlow"}:{},onClick:function(){return a.expoFilter()}},i.a.createElement("div",{className:"filter-btn"},i.a.createElement(oe.a,null),i.a.createElement("span",null,"Expo virtuelles")))),i.a.createElement("div",null,i.a.createElement(Y.a,{style:this.state.onlyGame?{color:"black",backgroundColor:"rgba(255, 255, 255, 0.5)",fontWeight:"900",fontFamily:"Barlow"}:{},onClick:function(){return a.gameFilter()}},i.a.createElement("div",{className:"filter-btn"},i.a.createElement(te.a,null),i.a.createElement("span",null,"Jeux")))),i.a.createElement("div",null,i.a.createElement(Y.a,{style:this.state.onlyKid?{color:"black",backgroundColor:"rgba(255, 255, 255, 0.5)",fontWeight:"900",fontFamily:"Barlow"}:{},onClick:function(){return a.kidFilter()}},i.a.createElement("div",{className:"filter-btn"},i.a.createElement(X.a,null)," ",i.a.createElement("span",null,"Enfants")))),i.a.createElement("div",null,i.a.createElement(Y.a,{style:this.state.onlyAccess?{color:"black",backgroundColor:"rgba(255, 255, 255, 0.5)",fontWeight:"900",fontFamily:"Barlow"}:{},onClick:function(){return a.accessFilter()}}," ",i.a.createElement("div",{className:"filter-btn"},i.a.createElement($.a,null),i.a.createElement("span",null,"Accessible SME"))))),i.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap"}},this.state.activities.map((function(e){return i.a.createElement(G,{key:e._id,activity:e})}))))}}]),a}(n.Component),me=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={activities:[]},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;v.getActivities().then((function(t){e.setState({activities:t})}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"website-title"},i.a.createElement("div",{className:"video-container"},i.a.createElement("video",{loop:!0,autoplay:"autoplay",id:"vid",muted:!0},i.a.createElement("source",{src:"../../videos/landing.mp4",type:"video/mp4"}))),i.a.createElement("div",{className:"caption-website-title"},i.a.createElement("h1",null,"ART'LINE"),i.a.createElement("h2",null,"Culture from home."))),this.state.activities.length>0&&i.a.createElement(ue,{activities:this.state.activities}))}}]),a}(i.a.Component),de=a(252),he=a(255),pe=a(254),ve=a(253),ge=a(220),fe=a(250),ye=a(251),Ee=a(142),be=a(46),ke=a.n(be),xe=a(248),Ce=Object(Ee.a)({palette:{primary:{main:ke.a[900]},secondary:{main:ke.a[900]}}}),we=Object(fe.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),je=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={email:"",password:""},e.handleChange=function(t){var a=t.target.name,n="file"===t.target.type?t.target.files[0]:"checkbox"===t.target.type?t.target.checked:t.target.value;e.setState(Object(T.a)({},a,n))},e.handleSubmit=function(t){t.preventDefault(),v.signin(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/")})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.setBackground("transparent")}},{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(xe.a,{theme:Ce},i.a.createElement(ye.a,{className:"sign-in",component:"main",maxWidth:"xs"},i.a.createElement(de.a,null),i.a.createElement("div",{className:e.paper},i.a.createElement("div",{className:"center"},i.a.createElement("img",{className:"sign-img",src:"../../images/hey.png",alt:"Logo ARTLINE"})),i.a.createElement(ge.a,null,i.a.createElement("h2",null,"Heureux de vous retrouver !")),i.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit,className:e.form,noValidate:!0},i.a.createElement(he.a,{InputLabelProps:{style:{fontFamily:"Barlow"}},variant:"outlined",margin:"normal",color:"black",required:!0,fullWidth:!0,id:"pseudo",label:"Pseudo",name:"pseudo",autoComplete:"pseudo",autoFocus:!0}),i.a.createElement(he.a,{InputLabelProps:{style:{fontFamily:"Barlow"}},variant:"outlined",margin:"normal",color:"black",required:!0,fullWidth:!0,id:"email",label:"Adresse Email",name:"email",autoComplete:"email",autoFocus:!0}),i.a.createElement(he.a,{InputLabelProps:{style:{fontFamily:"Barlow"}},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Mot de passe",type:"password",id:"password",autoComplete:"current-password"}),i.a.createElement(Y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Se connecter"),i.a.createElement(ve.a,{container:!0,justify:"flex-end"},i.a.createElement(ve.a,{item:!0},i.a.createElement(pe.a,{href:"/signup",variant:"body2"},"Pas encore inscrit ? Rejoignez-nous !"))))),i.a.createElement(R.a,{mt:8})))}}]),a}(n.Component);je.contextType=g;var Oe,Fe=(Oe=Object(E.h)(je),function(e){var t=we();return i.a.createElement(Oe,Object.assign({},e,{classes:t}))}),Se=(a(210),function(e){return console.log(e),i.a.createElement(Fe,e)}),Ae=Object(Ee.a)({palette:{primary:{main:ke.a[900]},secondary:{main:ke.a[900]}}}),Ne=Object(fe.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Le=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={email:"",password:""},e.handleChange=function(t){var a="file"===t.target.type?t.target.files[0]:"checkbox"===t.target.type?t.target.checked:t.target.value,n=t.target.name;e.setState(Object(T.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault(),v.signup(e.state).then((function(t){e.context.setUser(t),e.props.history.push("/")})).catch((function(e){console.log(e)}))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(xe.a,{theme:Ae},i.a.createElement(ye.a,{component:"main",maxWidth:"xs"},i.a.createElement(de.a,null),i.a.createElement("div",{className:e.paper},i.a.createElement("div",{className:"center"},i.a.createElement("img",{className:"sign-img",src:"../../images/hi.png",alt:"Logo ARTLINE"})),i.a.createElement(ge.a,null,i.a.createElement("h2",null,"Bienvenue sur ART'LINE !")),i.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit,className:e.form,noValidate:!0},i.a.createElement(ve.a,{container:!0,spacing:2},i.a.createElement(ve.a,{item:!0,xs:12},i.a.createElement(he.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Adresse Email",name:"email",autoComplete:"email"})),i.a.createElement(ve.a,{item:!0,xs:12},i.a.createElement(he.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Mot de passe",type:"password",id:"password",autoComplete:"current-password"})),i.a.createElement(ve.a,{item:!0,xs:12})),i.a.createElement(Y.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"S'inscrire"," "),i.a.createElement(ve.a,{container:!0,justify:"flex-end"},i.a.createElement(ve.a,{item:!0},i.a.createElement(pe.a,{href:"/signin",variant:"body2"},"D\xe9j\xe0 un compte ? Connectez-vous !"," "))))),i.a.createElement(R.a,{mt:5})))}}]),a}(n.Component);Le.contextType=g;var De=function(e){return function(t){var a=Ne();return i.a.createElement(e,Object.assign({},t,{classes:a}))}}(Object(E.h)(Le)),Ve=function(e){return i.a.createElement(De,null)},Ie=a(143),Me=b((function(e){var t=e.component,a=e.context,n=Object(Ie.a)(e,["component","context"]);return a.isLoading?null:a.isLoggedIn?i.a.createElement(E.b,Object.assign({},n,{render:function(e){return i.a.createElement(t,e)}})):i.a.createElement(E.a,{to:"/signin"})})),Te=a(64),_e=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={title:"",description:"",category:"",access:"",url:"",public:"",duration:"",owner_name:""},e.handleChange=function(t){var a=t.target.value,n=t.target.name;e.setState(Object(T.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault(),"create"===e.props.mode&&e.add(),"edit"===e.props.mode&&e.edit()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props.editData)}},{key:"edit",value:function(){var e=this;v.updateActivity({title:this.state.title,img:this.state.img,creator:this.props.creator,description:this.state.description,category:this.state.category,access:this.state.access,public:this.state.public,duration:this.state.duration,owner_name:this.state.owner_name}).then((function(t){e.setState({success:!0}),e.props.context.reloadData(),e.props.closeForm()})).catch((function(e){console.log(e)}))}},{key:"add",value:function(){var e=this;v.addActivity({title:this.state.title,img:this.state.img,creator:this.props.context.user._id,description:this.state.description,category:this.state.category,access:this.state.access,public:this.state.public,duration:this.state.duration,owner_name:this.state.owner_name}).then((function(t){e.setState({success:!0}),e.props.context.reloadData(),e.props.closeForm()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.props.mode;return i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("h2",null,"edit"===e?"\xc9ditez une":"Ajouter une nouvelle"," activit\xe9"),i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("label",{htmlFor:"title"},"Nom de l'activit\xe9"),i.a.createElement("input",{type:"text",name:"title",id:"title",value:this.state.title,onChange:this.handleChange})),i.a.createElement("div",null,i.a.createElement("label",{htmlFor:"description"},"Description de l'activit\xe9"),i.a.createElement("input",{type:"text",name:"description",id:"description",value:this.state.description,onChange:this.handleChange})),i.a.createElement("div",null,i.a.createElement("label",{className:"label",htmlFor:"category"},"Type d'activit\xe9"),i.a.createElement("select",{name:"category",id:"category",onChange:this.handleChange,defaultValue:"-1"},i.a.createElement("option",{value:"-1",disabled:!0},"Selectionnez"),i.a.createElement("option",{value:"audio",name:"category"},"Musique, podcast, concert"),i.a.createElement("option",{value:"art",name:"category"},"Exposition en ligne"),i.a.createElement("option",{value:"video",name:"category"},"Film, documentaire, interview"),i.a.createElement("option",{value:"spectacle",name:"category"},"Spectacle, th\xe9\xe2tre, op\xe9ra, ballet"),i.a.createElement("option",{value:"livre",name:"category"},"Livre num\xe9rique, archives"),i.a.createElement("option",{value:"jeu",name:"category"},"Jeux, enigmes"))),i.a.createElement("div",null,i.a.createElement("label",{className:"label",htmlFor:"public"},"Contenu adapt\xe9 aux :"),i.a.createElement("label",{htmlFor:"public",name:"public"},"Enfants"),i.a.createElement("input",{type:"checkbox",id:"public",value:"kid",name:"public",onChange:this.handleChange}),i.a.createElement("label",{htmlFor:"access",name:"access"},"Sourds et malentendants"),i.a.createElement("input",{type:"checkbox",id:"access",value:"deaf",name:"access",onChange:this.handleChange}),i.a.createElement("div",null),i.a.createElement("label",{htmlFor:"url"},"Renseignez l'URL de la ressource en ligne :"),i.a.createElement("input",{type:"url",name:"url",id:"url",placeholder:"https://artline.com",pattern:"https://.*",value:this.state.url,required:!0,onChange:this.handleChange})),i.a.createElement("div",null,i.a.createElement("label",{htmlFor:"title"},"Activit\xe9 con\xe7ue par :"),i.a.createElement("input",{type:"text",name:"owner_name",id:"owner_name",value:this.state.owner_name,onChange:this.handleChange})),i.a.createElement("div",null,i.a.createElement("label",{className:"label",htmlFor:"duration"},"Dur\xe9e de l'activit\xe9"," "),i.a.createElement("select",{name:"duration",id:"duration",onChange:this.handleChange,defaultValue:"-1"},i.a.createElement("option",{value:"-1",disabled:!0},"Selectionnez"),i.a.createElement("option",{value:"half",name:"duration"},"30 mins ou moins"),i.a.createElement("option",{value:"one",name:"duration"},"1h environ"),i.a.createElement("option",{value:"two",name:"duration"},"2h environ"),i.a.createElement("option",{value:"morethantwo",name:"duration"},"Plus de 2h")))),i.a.createElement("button",null,"Envoyez !"))}}]),a}(n.Component),We=b(Object(E.h)(_e)),Be=b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={formMode:null,data:{},creator:null},e}return Object(s.a)(a,[{key:"createEvent",value:function(){this.setState(Object(Te.a)(Object(Te.a)({},this.state),{},{formMode:"create"}))}},{key:"editEvent",value:function(e){this.setState(Object(Te.a)(Object(Te.a)({},this.state),{},{formMode:"edit",data:e}))}},{key:"deleteEvent",value:function(e){var t=this;v.removeActivity(e).then((function(e){t.setState({success:!0}),console.log(t.props.context),t.props.context.reloadData()})).catch((function(e){console.log(e)}))}},{key:"getFav",value:function(e){var t=this;v.getUserActivity(e).then((function(e){t.setState({success:!0}),console.log(t.props.context),t.props.context.reloadData()})).catch((function(e){console.log(e)}))}},{key:"closeForm",value:function(){this.setState({formMode:null,data:{}})}},{key:"componentDidMount",value:function(){var e=this.props.context.user;console.log(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("h1",null,"Le profil perso"),null!==this.state.formMode&&i.a.createElement(We,{mode:this.state.formMode,creator:this.state.creator,editData:this.state.data,closeForm:function(){return e.closeForm()}}),i.a.createElement("button",{onClick:function(){return e.createEvent()}},"Cr\xe9er une nouvelle activit\xe9"),i.a.createElement("h2",null,"ACTIVIT\xc9S AJOUT\xc9ES"),this.props.context.user.activities.map((function(t,a){return i.a.createElement(G,{key:a,activity:t,editMode:!0,onEdit:function(t){return e.editEvent(t)},onDelete:function(t){return e.deleteEvent(t)}})})),i.a.createElement("div",null,i.a.createElement("h2",null,"FAVORIS"),this.props.context.user.favorites.map((function(e,t){return i.a.createElement(G,{key:t,activity:e})}))))}}]),a}(n.Component)),Ue=Object(N.a)({iconFilled:{color:"#ff6d75"},iconHover:{color:"#ff3d47"}})(L.a),Re=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={activity:{title:"",_id:"",comments:[],marks:[]}},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=this,t=this.props.match.params.id;v.getActivity(t).then((function(t){e.setState({activity:t})})).catch((function(e){console.log(e)}))}},{key:"invert",value:function(e){for(var t=[],a=e.length-1;a>=0;a--)t.push(e[a]);return console.log(t),t}},{key:"render",value:function(){var e=this,t=this.state.activity.marks.map((function(e){return e.mark}));console.log(t);var a=this.state.activity.comments,n=(t.reduce((function(e,t){return Number(e)+Number(t)}),0)/t.length).toFixed(2);return i.a.createElement("div",{style:{display:"flex",width:"100vw",flexWrap:"wrap"}},i.a.createElement("div",{style:{maxWidth:"800px",textAlign:"center",margin:"2%",display:"flex",justifyContent:"flex-start",flexDirection:"column"}}," ",i.a.createElement("h1",null,this.state.activity.title),!!t.length&&i.a.createElement(R.a,{component:"fieldset",mb:3,borderColor:"transparent"},i.a.createElement(ge.a,{component:"legend"},i.a.createElement("h2",null,n)),i.a.createElement(Ue,{name:"customized-color",value:n,readOnly:!0,getLabelText:function(e){return"".concat(e," Heart").concat(1!==e?"s":"")},precision:.5,icon:i.a.createElement(B.a,{fontSize:"inherit"})})),i.a.createElement("img",{style:{height:"300px"},src:this.state.activity.img,alt:this.state.activity.description}),i.a.createElement("div",null,this.state.activity.description)),i.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1}},""!==this.state.activity.title&&i.a.createElement(q,{activity:this.state.activity,reload:function(){return e.getData()}}),i.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"space-evenly",width:"100%",margin:"0 auto",flexWrap:"wrap",height:"400px",overflowY:"auto",border:"solid 1px black",borderRadius:"12px"}},this.invert(a).map((function(e){return i.a.createElement(ze,{key:e._id,comment:e})})))))}}]),a}(n.Component);function ze(e){var t=e.comment,a=t.user,n=t.comment;return console.log(a),i.a.createElement("div",{style:{display:"flex",minWidth:"200px",height:"200px",borderRadius:"12px",background:"white",margin:"2%",justifyContent:"space-evenly",padding:"20px"}},i.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},i.a.createElement("div",{style:{border:"solid 1px black",borderRadius:"15px",height:"80px",width:"40px"}}),i.a.createElement("div",null,a.name||a.email.split("@")[0])),i.a.createElement("div",{style:{display:"grid",placeItems:"center"}},"\xab ",n," \xbb"," "))}var Pe=Object(E.h)(Re);var qe=function(){var e=Object(n.useState)("transparent"),t=Object(y.a)(e,2),a=t[0],r=t[1],l=Object(E.g)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[l]),i.a.createElement("div",{style:{background:a},className:"App"},i.a.createElement(k,null),i.a.createElement("div",null,i.a.createElement(E.d,null,i.a.createElement(E.b,{exact:!0,path:"/",component:me}),i.a.createElement(E.b,{exact:!0,path:"/activity/:id"},i.a.createElement(Pe,null)),i.a.createElement(E.b,{exact:!0,path:"/signin"},i.a.createElement(Se,{setBackground:r})),i.a.createElement(E.b,{exact:!0,path:"/signup",component:Ve}),i.a.createElement(Me,{exact:!0,path:"/profile",component:Be}))))};a(211),a(212);l.a.render(i.a.createElement(o.a,{onUpdate:function(){return window.scrollTo(0,0)}},i.a.createElement(f,null,i.a.createElement(qe,null))),document.getElementById("root"))}},[[156,1,2]]]);
//# sourceMappingURL=main.73f4d25d.chunk.js.map