{"version":3,"sources":["api/apiHandler.js","components/Auth/UserContext.jsx","components/Auth/UserProvider.jsx","components/Auth/withUser.jsx","components/NavMain.jsx","components/Activities/ReviewActivity.jsx","components/Activities/ActivityCard.jsx","components/Activities/ActivityDisplay.jsx","pages/Home.jsx","components/Forms/FormSignin.jsx","pages/Signin.jsx","components/Forms/FormSignup.jsx","pages/Signup.jsx","components/ProtectedRoute.jsx","components/Activities/ActivityForm.jsx","pages/Profile.jsx","components/Activities/ActivityFullPage.jsx","App.jsx","index.js"],"names":["service","axios","create","baseURL","process","withCredentials","errorHandler","error","response","data","console","log","signup","userInfo","post","then","res","catch","signin","isLoggedIn","get","logout","getActivities","getActivity","activityId","removeActivity","delete","updateActivity","patch","getUserActivities","creator","addActivity","getFavActivities","userId","removeActivityFromFav","addActivityToFav","addMark","mark","addComment","comment","UserContext","React","createContext","UserProvider","state","user","isLoading","setUser","setState","removeUser","this","getUserData","apiHandler","authValues","reloadData","Provider","value","props","children","Component","withUser","ComponentToPassUserContextTo","Consumer","context","className","exact","to","src","alt","Fragment","style","fontFamily","fontSize","email","onClick","StyledRating","withStyles","iconFilled","color","iconHover","Rating","initialState","handleChange","event","target","key","name","bind","handleSubmit","_id","activity","apiRes","success","Promise","resolve","getMark","sendComment","reload","Box","component","mb","borderColor","padding","max","defaultValue","onChange","e","getLabelText","precision","icon","TextareaAutosize","width","aria-label","placeholder","rows","AddToFav","isFav","remove","add","loggedIn","useState","open","setOpen","position","top","right","textAlign","background","display","Modal","left","height","border","onClose","showDescription","arg","i","catFilter","imgFilter","imgF","length","marks","map","avgMarks","reduce","a","b","Number","nbcoms","comments","dataFav","favorites","fav","includes","removeFav","addFav","editMode","img","title","description","trim","cursor","toggleDescription","onEdit","onDelete","ActivityDisplay","searchValue","onlyVideo","onlyAudio","onlyExpo","onlyShow","onlyGame","onlyKid","onlyAccess","activities","getFilteredValues","filter","cond1","toLowerCase","cond2","cond3","category","cond4","theme","cond5","owner_name","keepActivity","cond6","type","cond7","cond8","cond9","cond10","cond11","public","cond12","access","search","arr","n","c","Boolean","sort","avg","_","Math","floor","sorted","sortbyMark","justifyContent","flexWrap","handleSearch","Button","backgroundColor","fontWeight","videoFilter","audioFilter","showFilter","expoFilter","gameFilter","kidFilter","accessFilter","Home","loop","autoplay","id","muted","createMuiTheme","palette","primary","main","grey","secondary","useStyles","makeStyles","paper","marginTop","spacing","flexDirection","alignItems","avatar","margin","form","submit","FormSignin","password","files","checked","preventDefault","history","push","setBackground","classes","ThemeProvider","Container","maxWidth","CssBaseline","Typography","onSubmit","noValidate","TextField","InputLabelProps","variant","required","fullWidth","label","autoComplete","autoFocus","Grid","container","justify","item","Link","href","mt","contextType","withMaterialStyles","ComponentToPassStylesTo","withRouter","Signin","FormSignup","xs","Signup","rest","render","ActivityForm","url","duration","mode","edit","editData","closeForm","htmlFor","disabled","pattern","formMode","newData","getUserActivity","userData","createEvent","editEvent","deleteEvent","Activity","getData","match","params","newArr","mean","acc","curr","toFixed","readOnly","flex","overflowY","borderRadius","invert","Comment","minWidth","split","placeItems","App","pathname","useLocation","useEffect","window","scrollTo","path","ActivityFullPage","Profile","ReactDOM","onUpdate","document","getElementById"],"mappings":"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","file":"static/js/main.73f4d25d.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_URL,\n  withCredentials: true, // Cookie is sent to client when using this service. (used for session)\n});\n\nfunction errorHandler(error) {\n  if (error.response?.data) {\n    console.log(error.response && error.response?.data);\n    throw error;\n  }\n  throw error;\n}\n\nexport default {\n  service,\n\n  signup(userInfo) {\n    return service\n      .post(\"/api/auth/signup\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  signin(userInfo) {\n    return service\n      .post(\"/api/auth/signin\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  isLoggedIn() {\n    return service\n      .get(\"/api/auth/isLoggedIn\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  logout() {\n    return service\n      .get(\"/api/auth/logout\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getActivities() {\n    return service\n      .get(\"/api/activity\")\n      .then((res) => {\n        return res.data;\n      })\n      .catch(errorHandler);\n  },\n\n  getActivity(activityId) {\n    return service\n      .get(`/api/activity/${activityId}`)\n      .then((res) => {\n        return res.data;\n      })\n      .catch(errorHandler);\n  },\n\n  removeActivity(activityId) {\n    return service\n      .delete(`/api/activity/${activityId}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  updateActivity(activityId, data) {\n    return service\n      .patch(`/api/activity/${activityId}`, data)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getUserActivities(creator) {\n    return service\n      .get(`/api/activity/user/${creator}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  addActivity(data) {\n    return service\n      .post(\"/api/activity\", data)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getFavActivities(userId) {\n    return service\n      .get(`/api/activity/favorites/${userId}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  removeActivityFromFav(userId, activityId) {\n    return service\n      .delete(`/api/activity/${userId}/${activityId}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  addActivityToFav(userId, activityId) {\n    return service\n      .post(`/api/activity/${userId}/${activityId}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  addMark(userId, activityId, mark) {\n    return service\n      .post(`/api/activity/marks/${userId}/${activityId}`, { mark })\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  addComment(userId, activityId, comment) {\n    return service\n      .post(`/api/activity/comments/${userId}/${activityId}`, { comment })\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n};\n","import React from \"react\";\n\nconst UserContext = React.createContext();\n\nexport default UserContext;\n","import React, { Component } from \"react\";\nimport apiHandler from \"../../api/apiHandler\";\nimport UserContext from \"./UserContext\";\n\nclass UserProvider extends Component {\n  state = {\n    user: null,\n    isLoggedIn: false,\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    this.getUserData();\n  }\n\n  getUserData() {\n    apiHandler\n      .isLoggedIn()\n      .then((data) => {\n        console.log(data);\n        this.setState({ user: data, isLoggedIn: true, isLoading: false });\n      })\n      .catch((error) => {\n        console.log(error);\n\n        this.setState({ user: null, isLoggedIn: false, isLoading: false });\n      });\n  }\n\n  setUser = (user) => {\n    this.setState({ user, isLoggedIn: true });\n  };\n\n  removeUser = () => {\n    this.setState({ user: null, isLoggedIn: false });\n  };\n\n  render() {\n    //  Setup all the values/functions you want to expose to anybody reading\n    // from the AuthContext.\n    const authValues = {\n      user: this.state.user,\n      setUser: this.setUser,\n      removeUser: this.removeUser,\n      reloadData: () => this.getUserData(),\n      isLoggedIn: this.state.isLoggedIn,\n      isLoading: this.state.isLoading,\n    };\n\n    return (\n      <UserContext.Provider value={authValues}>\n        {this.props.children}\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport default UserProvider;\n","import React from \"react\";\nimport UserContext from \"./UserContext\";\n\n// This is what we call a HOC (Higher Order Component).\n// It takes a component as a parameter and it returns a component.\n// This technique can be used to abstract some logic in order to pass\n// some data down as props to the component sent as parameter.\n\n// The use case of this one is to make it easy to access the user context to\n// any component in our app.\n\n/* ******************************************************** */\n\n//  How to use:  =>\n// YourComponent.jsx\n// import React from \"react\"\n// function or class YourComponent()\n//\n// ... your implementation.\n//\n// export default withUser(YourComponent)\n// ----------------^ your component now has access to the user context defined in UserProvider.jsx.\n\nexport const withUser = (ComponentToPassUserContextTo) => {\n  return function (props) {\n    return (\n      <UserContext.Consumer>\n        {(context) => (\n          <ComponentToPassUserContextTo {...props} context={context} />\n        )}\n      </UserContext.Consumer>\n    );\n  };\n};\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { withUser } from \"../components/Auth/withUser\";\nimport apiHandler from \"../api/apiHandler\";\n\nimport \"../styles/NavMain.css\";\n\nconst NavMain = (props) => {\n  const { context } = props;\n\n  function handleLogout() {\n    apiHandler\n      .logout()\n      .then(() => {\n        context.removeUser();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  return (\n    <nav className=\"NavMain\">\n      <NavLink exact to=\"/\">\n        <div className=\"site-title\">\n          <img className=\"logo\" src=\"../../images/1.png\" alt=\"Logo ARTLINE\" />\n          <h2 className=\"logo\">ART'LINE</h2>\n        </div>\n      </NavLink>\n      <ul className=\"nav-list\">\n        {context.isLoggedIn && (\n          <React.Fragment>\n            <li>\n              <NavLink to=\"/profile\">\n                <span style={{ fontFamily: \"Barlow-Light\", fontSize: \"14px\" }}>\n                  {context.user && context.user.email}\n                </span>\n              </NavLink>\n            </li>\n            <li>\n              <span\n                style={{ fontFamily: \"Barlow-Light\", fontSize: \"14px\" }}\n                onClick={handleLogout}\n              >\n                Logout\n              </span>\n            </li>\n          </React.Fragment>\n        )}\n        {!context.isLoggedIn && (\n          <React.Fragment>\n            <li>\n              <NavLink to=\"/signin\">Log in</NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/signup\">Create account</NavLink>\n            </li>\n          </React.Fragment>\n        )}\n      </ul>\n    </nav>\n  );\n};\n\nexport default withUser(NavMain);\n","import React, { Component, useState } from \"react\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { withUser } from \"../Auth/withUser\";\nimport { Link } from \"react-router-dom\";\nimport ChatTwoToneIcon from \"@material-ui/icons/ChatTwoTone\";\nimport RateReviewTwoToneIcon from \"@material-ui/icons/RateReviewTwoTone\";\nimport FavoriteRoundedIcon from \"@material-ui/icons/FavoriteRounded\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport TextareaAutosize from \"@material-ui/core/TextareaAutosize\";\n\nimport StarsTwoToneIcon from \"@material-ui/icons/StarsTwoTone\";\nimport FavoriteTwoToneIcon from \"@material-ui/icons/FavoriteTwoTone\";\n\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst StyledRating = withStyles({\n  iconFilled: {\n    color: \"#ff6d75\",\n  },\n  iconHover: {\n    color: \"#ff3d47\",\n  },\n})(Rating);\n\nconst initialState = {\n  comment: \"\",\n  mark: 0,\n};\nexport class ReviewActivity extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.props = props;\n    this.state = initialState;\n  }\n\n  sendComment() {\n    console.log(\"hehe getting coms\");\n\n    return apiHandler\n      .addComment(\n        this.props.context.user._id,\n        this.props.activity._id,\n        this.state.comment\n      )\n      .then((apiRes) => {\n        this.setState({ success: true });\n        return Promise.resolve(true);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  getMark() {\n    console.log(\"hehe getting mark\");\n\n    return apiHandler\n      .addMark(\n        this.props.context.user._id,\n        this.props.activity._id,\n        this.state.mark\n      )\n      .then((apiRes) => {\n        this.setState({ success: true });\n        return Promise.resolve(true);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  handleSubmit() {\n    console.log(\"hehe vchui là\");\n    let { mark, comment } = this.state;\n    console.log({ mark, comment });\n    this.getMark()\n      .then(() => this.sendComment())\n      .then(() => {\n        this.setState(initialState);\n        this.props.reload();\n      });\n  }\n\n  handleChange = (event) => {\n    const value = event.target.value;\n    const key = event.target.name;\n    this.setState({\n      [key]: value,\n    });\n  };\n\n  render() {\n    return (\n      // <div>\n      //   <label htmlFor=\"mark\"></label>\n      //   <input\n      //     value={this.state.mark}\n      //     type=\"number\"\n      //     name=\"mark\"\n      //     onChange={this.handleChange}\n      //   />\n      //   <label htmlFor=\"comment\"></label>\n\n      //   <textarea\n      //     value={this.state.comment}\n      //     name=\"comment\"\n      //     onChange={this.handleChange}\n      //   />\n      //   <button onClick={this.handleSubmit}>Envoyer votre revue !</button>\n      // </div>\n\n      <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\n        {/* <Typography component=\"legend\"</Typography> */}\n        <h1 style={{ padding: \"20px 0\" }}>C koi les bails</h1>\n        <StyledRating\n          max={10}\n          name=\"mark\"\n          defaultValue={2}\n          onChange={(e) => this.handleChange(e)}\n          getLabelText={(value) => `${value} Heart${value !== 1 ? \"s\" : \"\"}`}\n          precision={0.5}\n          icon={<FavoriteIcon fontSize=\"inherit\" />}\n        />\n        {!!this.state.mark && (\n          <>\n            <h2>Votre note :</h2>\n            <div>{this.state.mark}</div>\n          </>\n        )}\n        <h1 style={{ padding: \"20px 0\" }}>Lache ton commentaire :</h1>\n        <TextareaAutosize\n          name=\"comment\"\n          style={{\n            width: \"100%\",\n            fontFamily: \"Barlow\",\n          }}\n          aria-label=\"empty textarea\"\n          placeholder=\"Votre mot doux...\"\n          rows={4}\n          value={this.state.comment}\n          onChange={(e) => this.handleChange(e)}\n        />\n        <button onClick={this.handleSubmit}>Envoyer votre revue !</button>\n      </Box>\n    );\n  }\n}\n\nexport default withUser(ReviewActivity);\n","import { Link } from \"react-router-dom\";\nimport { withUser } from \"../Auth/withUser\";\nimport apiHandler from \"../../api/apiHandler\";\nimport React, { Component, useState } from \"react\";\nimport ChatTwoToneIcon from \"@material-ui/icons/ChatTwoTone\";\nimport RateReviewTwoToneIcon from \"@material-ui/icons/RateReviewTwoTone\";\nimport FavoriteRoundedIcon from \"@material-ui/icons/FavoriteRounded\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport TextareaAutosize from \"@material-ui/core/TextareaAutosize\";\n\nimport StarsTwoToneIcon from \"@material-ui/icons/StarsTwoTone\";\nimport FavoriteTwoToneIcon from \"@material-ui/icons/FavoriteTwoTone\";\n\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport ReviewActivity from \"./ReviewActivity\";\n\nconst StyledRating = withStyles({\n  iconFilled: {\n    color: \"#ff6d75\",\n  },\n  iconHover: {\n    color: \"#ff3d47\",\n  },\n})(Rating);\n\nfunction AddToFav({ isFav, remove, add, loggedIn, activity }) {\n  const [open, setOpen] = useState(false);\n  const [mark, setMark] = useState(null);\n\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        top: \"5px\",\n        right: \"5px\",\n        width: \"50px\",\n        textAlign: \"center\",\n        padding: \"2px\",\n        background: \"rgba(255,255,255,0.7)\",\n      }}\n    >\n      {loggedIn && (\n        <span\n          style={{ display: \"flex\" }}\n          onClick={() => (isFav ? remove() : add())}\n        >\n          <RateReviewTwoToneIcon onClick={() => setOpen(true)} />\n          {isFav ? <FavoriteRoundedIcon /> : <FavoriteTwoToneIcon />}\n        </span>\n      )}\n      <Modal\n        style={{\n          left: \"20vw\",\n          width: \"60vw\",\n          top: \"20vh\",\n          height: \"60vh\",\n          border: \"none\",\n        }}\n        onClose={() => setOpen(false)}\n        open={open}\n      >\n        <div\n          className=\"center demescouilles\"\n          style={{\n            background: \"white\",\n            height: \"100%\",\n            width: \"100%\",\n            textAlign: \"center\",\n          }}\n        >\n          <ReviewActivity activity={activity} />\n        </div>\n      </Modal>\n    </div>\n  );\n}\n\nexport class ActivityCard extends Component {\n  state = {\n    showDescription: false,\n  };\n\n  addFav() {\n    console.log(\"ADD\");\n    apiHandler\n      .addActivityToFav(this.props.context.user._id, this.props.activity._id)\n      .then(this.props.context.reloadData);\n  }\n\n  toggleDescription() {\n    this.setState({ showDescription: !this.state.showDescription });\n  }\n\n  removeFav() {\n    console.log(\"REMOVE\");\n    apiHandler\n      .removeActivityFromFav(\n        this.props.context.user._id,\n        this.props.activity._id\n      )\n      .then(this.props.context.reloadData);\n  }\n\n  getFilterImg(arg) {\n    const catFilter = [\n      \"Vidéo, flux en direct, programmes en différé\",\n      \"Audio, radio, podcasts\",\n      \"Concerts, spectacles\",\n      \"Expositions virtuelles\",\n      \"Jeux\",\n      \"Enfants\",\n    ];\n\n    const imgFilter = [\n      \"../../images/2.png\",\n      \"../../images/5.png\",\n      \"../../images/6.png\",\n      \"../../images/7.png\",\n      \"../../images/4.png\",\n      \"../../images/8.png\",\n      \"../../images/15.png\",\n    ];\n    let i;\n    let imgF = \"../../images/15.png\";\n    for (i = 0; i < catFilter.length; i++) {\n      if (arg === catFilter[i]) return (imgF = imgFilter[i]);\n      else {\n        return imgF;\n      }\n    }\n  }\n  render() {\n    const activity = this.props.activity;\n    const marks = activity.marks.map((e) => e.mark);\n    const avgMarks =\n      marks.length > 0\n        ? marks.reduce((a, b) => Number(a) + Number(b), 0) / marks.length\n        : \"Pas de notes\";\n\n    console.log(activity.marks);\n    const nbcoms = activity.comments.length;\n    const isFav = this.props.context?.user?.favorites\n      ? this.props.context?.user?.favorites\n          .map((fav) => fav._id)\n          .includes(activity._id)\n      : false;\n    const dataFav = {\n      isFav,\n      activity,\n      remove: () => this.removeFav(),\n      add: () => this.addFav(),\n      loggedIn: this.props.context.isLoggedIn,\n      editMode: this.props.editMode,\n    };\n    return (\n      <>\n        <div className=\"card\">\n          <AddToFav {...dataFav} />\n\n          <Link to={`/activity/${activity._id}`}>\n            <div className=\"card-image\">\n              <img className=\"card-image\" src={activity.img} alt=\"test\" />\n              <h2 className=\"title\">{activity.title || \"notitle\"}</h2>\n            </div>\n          </Link>\n\n          <div className=\"card-text\">\n            {!!activity?.description?.trim() && (\n              <div\n                style={{ cursor: \"pointer\" }}\n                onClick={() => this.toggleDescription()}\n              >\n                <h3>Description</h3>\n                {this.state.showDescription && (\n                  <div>{activity.description}</div>\n                )}\n              </div>\n            )}\n\n            {/* <span>{activity.description}</span> */}\n          </div>\n\n          <div className=\"card-stats\">\n            {/* <div className=\"stats\">\n              <div className=\"value\">62</div>\n              <div className=\"type\">\n                <FavoriteTwoToneIcon />\n              </div>\n            </div> */}\n            <div className=\"stats\">\n              <div className=\"value\">{avgMarks}</div>\n              <div className=\"type\">\n                {\" \"}\n                <StarsTwoToneIcon />\n              </div>\n            </div>\n            <div className=\"stats\">\n              <div className=\"value\">{nbcoms}</div>\n              <div className=\"type\">\n                <ChatTwoToneIcon />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div>\n          {this.props.editMode && (\n            <span onClick={() => this.props.onEdit(activity)}>ÉDITE-MOI</span>\n          )}\n        </div>\n        <div>\n          {this.props.editMode && (\n            <span onClick={() => this.props.onDelete(activity._id)}>\n              DELETE\n            </span>\n          )}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withUser(ActivityCard);\n\n//   {/* <div className=\"round-image\">\n//   <img className=\"user-img\" src={activity.img} alt=\"activity\" />\n// </div> */}\n// <img className=\"card-image\" src=\"/images/test.png\" alt=\"test\" />\n// <h2 className=\"title\">{activity.title || \"notitle\"}</h2>\n// {/* <div>\n//   {\" \"}\n//   <img\n//     className=\"card-image\"\n//     src={this.props.getFilterImg(activity.category)}\n//     alt=\"test\"\n//   />\n// </div> */}\n// {/* <p>{getFilterImg(activity.category)}</p> */}\n// <p>Durée : {activity.duration} </p>\n// {/* <p>{activity.access} </p>\n// <p>{activity.theme} </p>\n\n// <p>{activity.owner_name} </p> */}\n","import ActivityCard from \"./ActivityCard\";\nimport React, { Component } from \"react\";\nimport SearchBar from \"material-ui-search-bar\";\nimport Button from \"@material-ui/core/Button\";\nimport ChildCareTwoToneIcon from \"@material-ui/icons/ChildCareTwoTone\";\nimport HearingTwoToneIcon from \"@material-ui/icons/HearingTwoTone\";\nimport SportsEsportsTwoToneIcon from \"@material-ui/icons/SportsEsportsTwoTone\";\nimport MovieFilterTwoToneIcon from \"@material-ui/icons/MovieFilterTwoTone\";\nimport MusicNoteTwoToneIcon from \"@material-ui/icons/MusicNoteTwoTone\";\nimport PaletteTwoToneIcon from \"@material-ui/icons/PaletteTwoTone\";\nimport LocalPlayTwoToneIcon from \"@material-ui/icons/LocalPlayTwoTone\";\nconst video = \"Vidéo, flux en direct, programmes en différé\";\nconst audio = \"Audio, radio, podcasts\";\nconst expo = \"Expositions virtuelles\";\nconst show = \"Concerts, spectacles\";\nconst game = \"Jeux\";\nconst kid = \"Enfants\";\n\nexport class ActivityDisplay extends Component {\n  state = {\n    searchValue: \"\",\n    onlyVideo: false,\n    onlyAudio: false,\n    onlyExpo: false,\n    onlyShow: false,\n    onlyGame: false,\n    onlyKid: false,\n    onlyAccess: false,\n    activities: [],\n  };\n\n  componentDidMount() {\n    this.getFilteredValues(\"\");\n  }\n\n  getFilteredValues(searchValue) {\n    let activities;\n    if (this.props.activities.length === 0) return;\n    activities = [...this.props.activities].filter((activity) => {\n      const cond1 = activity?.title\n        .toLowerCase()\n        .includes(searchValue.toLowerCase());\n      const cond2 = activity?.description\n        ?.toLowerCase()\n        .includes(searchValue.toLowerCase());\n      const cond3 = activity?.category?.includes(searchValue.toLowerCase());\n      const cond4 = activity?.theme.includes(searchValue.toLowerCase());\n      const cond5 = activity?.owner_name\n        ?.toLowerCase()\n        .includes(searchValue.toLowerCase());\n\n      let keepActivity = true;\n      if (\n        this.state.onlyVideo ||\n        this.state.onlyAudio ||\n        this.state.onlyExpo ||\n        this.state.onlyShow ||\n        this.state.onlyGame ||\n        this.state.onlyKid ||\n        this.state.onlyAccess\n      ) {\n        // one filter is selected\n        let cond6 = false;\n        if (this.state.onlyVideo) {\n          if (activity?.type?.includes(video)) cond6 = true;\n        }\n        let cond7 = false;\n        if (this.state.onlyAudio) {\n          if (activity?.type?.includes(audio)) cond7 = true;\n        }\n        let cond8 = false;\n        if (this.state.onlyExpo) {\n          if (activity?.type?.includes(expo)) cond8 = true;\n        }\n        let cond9 = false;\n        if (this.state.onlyShow) {\n          if (activity?.category?.includes(show)) cond9 = true;\n        }\n        let cond10 = false;\n        if (this.state.onlyGame) {\n          if (activity?.category?.includes(game)) cond10 = true;\n        }\n        let cond11 = false;\n        if (this.state.onlyKid) {\n          if (activity?.public?.includes(kid)) cond11 = true;\n        }\n        let cond12 = false;\n        if (this.state.onlyAccess) {\n          if (activity.access.length === 0) cond12 = true;\n        }\n        keepActivity =\n          cond6 || cond7 || cond8 || cond9 || cond10 || cond11 || cond12;\n      }\n\n      return (cond1 || cond2 || cond3 || cond4 || cond5) && keepActivity;\n    });\n    this.setState({\n      activities,\n      searchValue,\n    });\n  }\n\n  handleSearch(search) {\n    this.getFilteredValues(search);\n  }\n\n  videoFilter() {\n    this.setState({ onlyVideo: !this.state.onlyVideo }, () => {\n      this.getFilteredValues(this.state.searchValue);\n    });\n  }\n\n  audioFilter() {\n    this.setState({ onlyAudio: !this.state.onlyAudio }, () => {\n      this.getFilteredValues(this.state.searchValue);\n    });\n  }\n\n  expoFilter() {\n    this.setState({ onlyExpo: !this.state.onlyExpo }, () => {\n      this.getFilteredValues(this.state.searchValue);\n    });\n  }\n\n  showFilter() {\n    this.setState({ onlyShow: !this.state.onlyShow }, () => {\n      this.getFilteredValues(this.state.searchValue);\n    });\n  }\n\n  gameFilter() {\n    this.setState({ onlyGame: !this.state.onlyGame }, () => {\n      this.getFilteredValues(this.state.searchValue);\n    });\n  }\n\n  kidFilter() {\n    this.setState({ onlyKid: !this.state.onlyKid }, () => {\n      this.getFilteredValues(this.state.searchValue);\n    });\n  }\n\n  accessFilter() {\n    this.setState({ onlyAccess: !this.state.onlyAccess }, () => {\n      this.getFilteredValues(this.state.searchValue);\n    });\n  }\n\n  sortbyMark(arr, n = 3) {\n    let c = [...arr].filter((e) => Boolean(e?.marks.length));\n    c.sort((a, b) => this.avg(a.marks) - this.avg(b.marks));\n    return c.filter((_, i) => i < n);\n  }\n\n  avg(marks) {\n    return Math.floor(marks.reduce((a, b) => a + b, 0) / marks.length);\n  }\n\n  render() {\n    const n = 3;\n\n    const sorted = !!this?.state?.activities?.length\n      ? this.sortbyMark(this.state.activities, n)\n      : [];\n\n    return (\n      <div>\n        <h1 className=\"margin center\">Bienvenue sur ART'LINE</h1>\n        <h2 className=\"margin center\">TOP {n}</h2>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"space-evenly\",\n            flexWrap: \"wrap\",\n          }}\n        >\n          {sorted.map((activity) => (\n            <ActivityCard activity={activity} />\n          ))}\n        </div>\n        <div className=\"center\">\n          <SearchBar\n            className=\"margin search-bar \"\n            placeholder=\"Rechercher une activité...\"\n            value={this.state.searchValue}\n            onChange={(value) => this.handleSearch(value)}\n          />\n          {/* <input\n            value={this.state.searchValue}\n            onChange={(e) => this.handleSearch(e.target.value)}\n          /> */}\n        </div>\n        <div className=\"center\">\n          <div>\n            <Button\n              style={\n                this.state.onlyVideo\n                  ? {\n                      color: \"black\",\n                      backgroundColor: \"rgba(255, 255, 255, 0.5)\",\n                      fontWeight: \"900\",\n                      fontFamily: \"Barlow\",\n                    }\n                  : {}\n              }\n              onClick={() => this.videoFilter()}\n            >\n              <div className=\"filter-btn\">\n                {/* <img\n                  className=\"filter-img\"\n                  src=\"../../images/2.png\"\n                  alt=\"filter-img video\"\n                />\n                <i class=\"fas fa-theater-masks\"></i> */}{\" \"}\n                <MovieFilterTwoToneIcon />\n                <span>Film & Vidéo</span>\n              </div>\n            </Button>\n          </div>\n          <div>\n            <Button\n              style={\n                this.state.onlyAudio\n                  ? {\n                      color: \"black\",\n                      backgroundColor: \"rgba(255, 255, 255, 0.5)\",\n                      fontWeight: \"900\",\n                      fontFamily: \"Barlow\",\n                    }\n                  : {}\n              }\n              onClick={() => this.audioFilter()}\n            >\n              <div className=\"filter-btn\">\n                {/* <img\n                  className=\"filter-img\"\n                  src=\"../../images/5.png\"\n                  alt=\"filter-img video\"\n                /> */}\n                <MusicNoteTwoToneIcon />\n\n                <span>Audio</span>\n              </div>\n            </Button>\n          </div>\n          <div>\n            <Button\n              style={\n                this.state.onlyShow\n                  ? {\n                      color: \"black\",\n                      backgroundColor: \"rgba(255, 255, 255, 0.5)\",\n                      fontWeight: \"900\",\n                      fontFamily: \"Barlow\",\n                    }\n                  : {}\n              }\n              onClick={() => this.showFilter()}\n            >\n              <div className=\"filter-btn\">\n                {/* <img\n                  className=\"filter-img\"\n                  src=\"../../images/6.png\"\n                  alt=\"filter-img video\"\n                /> */}\n                <LocalPlayTwoToneIcon />\n                <span>Spectacle</span>\n              </div>\n            </Button>\n          </div>\n          <div>\n            <Button\n              style={\n                this.state.onlyExpo\n                  ? {\n                      color: \"black\",\n                      backgroundColor: \"rgba(255, 255, 255, 0.5)\",\n                      fontWeight: \"900\",\n                      fontFamily: \"Barlow\",\n                    }\n                  : {}\n              }\n              onClick={() => this.expoFilter()}\n            >\n              <div className=\"filter-btn\">\n                {/* <img\n                  className=\"filter-img\"\n                  src=\"../../images/7.png\"\n                  alt=\"filter-img video\"\n                /> */}\n                <PaletteTwoToneIcon />\n                <span>Expo virtuelles</span>\n              </div>\n            </Button>\n          </div>\n          <div>\n            <Button\n              style={\n                this.state.onlyGame\n                  ? {\n                      color: \"black\",\n                      backgroundColor: \"rgba(255, 255, 255, 0.5)\",\n                      fontWeight: \"900\",\n                      fontFamily: \"Barlow\",\n                    }\n                  : {}\n              }\n              onClick={() => this.gameFilter()}\n            >\n              <div className=\"filter-btn\">\n                {/* <img\n                  className=\"filter-img\"\n                  src=\"../../images/4.png\"\n                  alt=\"filter-img video\"\n                /> */}\n                <SportsEsportsTwoToneIcon />\n                <span>Jeux</span>\n              </div>\n            </Button>\n          </div>\n          <div>\n            <Button\n              style={\n                this.state.onlyKid\n                  ? {\n                      color: \"black\",\n                      backgroundColor: \"rgba(255, 255, 255, 0.5)\",\n                      fontWeight: \"900\",\n                      fontFamily: \"Barlow\",\n                    }\n                  : {}\n              }\n              onClick={() => this.kidFilter()}\n            >\n              <div className=\"filter-btn\">\n                {/* <img\n                  className=\"filter-img\"\n                  src=\"../../images/8.png\"\n                  alt=\"filter-img video\"\n                /> */}\n                <ChildCareTwoToneIcon /> <span>Enfants</span>\n              </div>\n            </Button>\n          </div>\n          <div>\n            <Button\n              style={\n                this.state.onlyAccess\n                  ? {\n                      color: \"black\",\n                      backgroundColor: \"rgba(255, 255, 255, 0.5)\",\n                      fontWeight: \"900\",\n                      fontFamily: \"Barlow\",\n                    }\n                  : {}\n              }\n              onClick={() => this.accessFilter()}\n            >\n              {\" \"}\n              <div className=\"filter-btn\">\n                {/* <img\n                  className=\"filter-img\"\n                  src=\"../../images/15.png\"\n                  alt=\"filter-img video\"\n                /> */}\n                <HearingTwoToneIcon />\n                <span>Accessible SME</span>\n              </div>\n            </Button>\n          </div>\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"space-evenly\",\n            flexWrap: \"wrap\",\n          }}\n        >\n          {this.state.activities.map((activity) => (\n            <ActivityCard key={activity._id} activity={activity} />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\nexport default ActivityDisplay;\n","import React from \"react\";\nimport ActivityDisplay from \"../components/Activities/ActivityDisplay\";\nimport apiHandler from \"../api/apiHandler\";\n\nclass Home extends React.Component {\n  state = {\n    activities: [],\n  };\n\n  componentDidMount() {\n    apiHandler.getActivities().then((data) => {\n      this.setState({ activities: data });\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"website-title\">\n          <div className=\"video-container\">\n            <video loop={true} autoplay=\"autoplay\" id=\"vid\" muted>\n              <source src=\"../../videos/landing.mp4\" type=\"video/mp4\" />\n            </video>\n          </div>\n          <div className=\"caption-website-title\">\n            <h1>ART'LINE</h1>\n            <h2>Culture from home.</h2>\n          </div>\n        </div>\n        {this.state.activities.length > 0 && (\n          <ActivityDisplay activities={this.state.activities} />\n        )}\n      </div>\n    );\n  }\n}\nexport default Home;\n","import React, { Component } from \"react\";\nimport UserContext from \"../Auth/UserContext\";\nimport { withRouter } from \"react-router-dom\";\nimport apiHandler from \"../../api/apiHandler\";\n\n//material ui\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport grey from \"@material-ui/core/colors/grey\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: grey[900],\n    },\n    secondary: {\n      main: grey[900],\n    },\n  },\n});\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst withMaterialStyles = (ComponentToPassStylesTo) => {\n  return (props) => {\n    const classes = useStyles();\n    return <ComponentToPassStylesTo {...props} classes={classes} />;\n  };\n};\n\n///\n\nclass FormSignin extends Component {\n  static contextType = UserContext;\n\n  state = {\n    email: \"\",\n    password: \"\",\n  };\n\n  componentDidMount() {\n    this.props.setBackground(\"transparent\");\n  }\n  handleChange = (event) => {\n    const key = event.target.name;\n\n    // You can test more if you have to handle different sorts of inputs.\n\n    const value =\n      event.target.type === \"file\"\n        ? event.target.files[0]\n        : event.target.type === \"checkbox\"\n        ? event.target.checked\n        : event.target.value;\n\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    apiHandler\n      .signin(this.state)\n      .then((data) => {\n        this.context.setUser(data);\n        this.props.history.push(\"/\");\n      })\n      .catch((error) => {\n        console.log(error);\n        // Display error message here, if you set the state\n      });\n  };\n\n  render() {\n    const classes = this.props.classes;\n    return (\n      <ThemeProvider theme={theme}>\n        <Container className=\"sign-in\" component=\"main\" maxWidth=\"xs\">\n          <CssBaseline />\n          <div className={classes.paper}>\n            <div className=\"center\">\n              <img\n                className=\"sign-img\"\n                src=\"../../images/hey.png\"\n                alt=\"Logo ARTLINE\"\n              />\n            </div>\n            <Typography>\n              <h2>Heureux de vous retrouver !</h2>\n            </Typography>\n            <form\n              onChange={this.handleChange}\n              onSubmit={this.handleSubmit}\n              className={classes.form}\n              noValidate\n            >\n              <TextField\n                InputLabelProps={{\n                  style: {\n                    fontFamily: \"Barlow\",\n                  },\n                }}\n                variant=\"outlined\"\n                margin=\"normal\"\n                color=\"black\"\n                required\n                fullWidth\n                id=\"pseudo\"\n                label=\"Pseudo\"\n                name=\"pseudo\"\n                autoComplete=\"pseudo\"\n                autoFocus\n              />\n              <TextField\n                InputLabelProps={{\n                  style: {\n                    fontFamily: \"Barlow\",\n                  },\n                }}\n                variant=\"outlined\"\n                margin=\"normal\"\n                color=\"black\"\n                required\n                fullWidth\n                id=\"email\"\n                label=\"Adresse Email\"\n                name=\"email\"\n                autoComplete=\"email\"\n                autoFocus\n              />\n              <TextField\n                InputLabelProps={{\n                  style: {\n                    fontFamily: \"Barlow\",\n                  },\n                }}\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Mot de passe\"\n                type=\"password\"\n                id=\"password\"\n                autoComplete=\"current-password\"\n              />\n\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n              >\n                Se connecter\n              </Button>\n              <Grid container justify=\"flex-end\">\n                <Grid item>\n                  <Link href=\"/signup\" variant=\"body2\">\n                    Pas encore inscrit ? Rejoignez-nous !\n                  </Link>\n                </Grid>\n              </Grid>\n            </form>\n          </div>\n          <Box mt={8}></Box>\n        </Container>\n      </ThemeProvider>\n    );\n  }\n  // <form onChange={this.handleChange} onSubmit={this.handleSubmit}>\n  //   <label htmlFor=\"email\">Email</label>\n  //   <input type=\"email\" id=\"email\" name=\"email\" />\n  //   <label htmlFor=\"password\">Password</label>\n  //   <input type=\"password\" id=\"password\" name=\"password\" />\n  //   <Button>Submit</Button>\n  // </form>\n}\n\nexport default withMaterialStyles(withRouter(FormSignin));\n","import React from \"react\";\nimport FormSignin from \"../components/Forms/FormSignin\";\nimport \"../styles/signin.css\";\n\nconst Signin = (props) => {\n  console.log(props);\n  return <FormSignin {...props} />;\n};\n\nexport default Signin;\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport UserContext from \"../Auth/UserContext\";\nimport apiHandler from \"../../api/apiHandler\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport grey from \"@material-ui/core/colors/grey\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: grey[900],\n    },\n    secondary: {\n      main: grey[900],\n    },\n  },\n});\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst withMaterialStyles = (ComponentToPassStylesTo) => {\n  return (props) => {\n    const classes = useStyles();\n    return <ComponentToPassStylesTo {...props} classes={classes} />;\n  };\n};\n\nclass FormSignup extends Component {\n  static contextType = UserContext;\n\n  state = {\n    email: \"\",\n    password: \"\",\n  };\n\n  handleChange = (event) => {\n    const value =\n      event.target.type === \"file\"\n        ? event.target.files[0]\n        : event.target.type === \"checkbox\"\n        ? event.target.checked\n        : event.target.value;\n\n    const key = event.target.name;\n\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    apiHandler\n      .signup(this.state)\n      .then((data) => {\n        this.context.setUser(data);\n        this.props.history.push(\"/\");\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    const classes = this.props.classes;\n\n    return (\n      <ThemeProvider theme={theme}>\n        <Container component=\"main\" maxWidth=\"xs\">\n          <CssBaseline />\n          <div className={classes.paper}>\n            <div className=\"center\">\n              <img\n                className=\"sign-img\"\n                src=\"../../images/hi.png\"\n                alt=\"Logo ARTLINE\"\n              />\n            </div>\n            <Typography>\n              <h2>Bienvenue sur ART'LINE !</h2>\n            </Typography>\n            <form\n              onChange={this.handleChange}\n              onSubmit={this.handleSubmit}\n              className={classes.form}\n              noValidate\n            >\n              <Grid container spacing={2}>\n                <Grid item xs={12}>\n                  <TextField\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    id=\"email\"\n                    label=\"Adresse Email\"\n                    name=\"email\"\n                    autoComplete=\"email\"\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <TextField\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    name=\"password\"\n                    label=\"Mot de passe\"\n                    type=\"password\"\n                    id=\"password\"\n                    autoComplete=\"current-password\"\n                  />\n                </Grid>\n                <Grid item xs={12}></Grid>\n              </Grid>\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n              >\n                S'inscrire{\" \"}\n              </Button>\n              <Grid container justify=\"flex-end\">\n                <Grid item>\n                  <Link href=\"/signin\" variant=\"body2\">\n                    Déjà un compte ? Connectez-vous !{\" \"}\n                  </Link>\n                </Grid>\n              </Grid>\n            </form>\n          </div>\n          <Box mt={5}></Box>\n        </Container>\n      </ThemeProvider>\n    );\n  }\n}\n\nexport default withMaterialStyles(withRouter(FormSignup));\n","import React from \"react\";\nimport FormSignup from \"../components/Forms/FormSignup\";\n\nconst Signup = (props) => {\n  return <FormSignup />;\n};\n\nexport default Signup;\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { withUser } from \"../components/Auth/withUser\";\n\nconst ProtectedRoute = ({ component: Component, context, ...rest }) => {\n  if (context.isLoading) {\n    return null;\n  } else if (context.isLoggedIn) {\n    return <Route {...rest} render={(props) => <Component {...props} />} />;\n  } else {\n    return <Redirect to=\"/signin\" />;\n  }\n};\n\nexport default withUser(ProtectedRoute);\n","import React, { Component } from \"react\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { withRouter } from \"react-router-dom\";\nimport { withUser } from \"../Auth/withUser\";\n\nclass ActivityForm extends Component {\n  state = {\n    title: \"\",\n    description: \"\",\n    category: \"\",\n    access: \"\",\n    url: \"\",\n    public: \"\",\n    duration: \"\",\n    owner_name: \"\",\n  };\n\n  //firstInputRef = React.createRef(null);\n\n  handleChange = (event) => {\n    const value = event.target.value;\n    const key = event.target.name;\n    this.setState({\n      [key]: value,\n    });\n  };\n\n  componentDidMount() {\n    //const mode = this.props.match.params.mode;\n    //const activityId = this.props.match.params.id;\n\n    //if (mode === \"edit\") {\n    console.log(this.props.editData);\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    if (this.props.mode === \"create\") this.add();\n    if (this.props.mode === \"edit\") this.edit();\n  };\n\n  edit() {\n    apiHandler\n      .updateActivity({\n        title: this.state.title,\n        img: this.state.img,\n        creator: this.props.creator,\n        description: this.state.description,\n        category: this.state.category,\n        access: this.state.access,\n        public: this.state.public,\n        duration: this.state.duration,\n        owner_name: this.state.owner_name,\n      })\n      .then((apiRes) => {\n        this.setState({ success: true });\n        this.props.context.reloadData();\n        this.props.closeForm();\n        //renvoyer sur le profile\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  add() {\n    apiHandler\n      .addActivity({\n        title: this.state.title,\n        img: this.state.img,\n        creator: this.props.context.user._id,\n        description: this.state.description,\n        category: this.state.category,\n        access: this.state.access,\n        public: this.state.public,\n        duration: this.state.duration,\n        owner_name: this.state.owner_name,\n      })\n      .then((apiRes) => {\n        this.setState({ success: true });\n        this.props.context.reloadData();\n        this.props.closeForm();\n\n        //renvoyer sur le profile\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  render() {\n    const mode = this.props.mode;\n\n    // if (this.state.success) {\n    //   return <Redirect to=\"/\" />;\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <h2>\n          {mode === \"edit\" ? \"Éditez une\" : \"Ajouter une nouvelle\"} activité\n        </h2>\n        <div>\n          <div>\n            <label htmlFor=\"title\">Nom de l'activité</label>\n            <input\n              type=\"text\"\n              name=\"title\"\n              id=\"title\"\n              value={this.state.title}\n              onChange={this.handleChange}\n            />\n          </div>\n          <div>\n            <label htmlFor=\"description\">Description de l'activité</label>\n            <input\n              type=\"text\"\n              name=\"description\"\n              id=\"description\"\n              value={this.state.description}\n              onChange={this.handleChange}\n            />\n          </div>\n          <div>\n            <label className=\"label\" htmlFor=\"category\">\n              Type d'activité\n            </label>\n            <select\n              name=\"category\"\n              id=\"category\"\n              onChange={this.handleChange}\n              defaultValue=\"-1\"\n            >\n              <option value=\"-1\" disabled>\n                Selectionnez\n              </option>\n              <option value=\"audio\" name=\"category\">\n                Musique, podcast, concert\n              </option>\n              <option value=\"art\" name=\"category\">\n                Exposition en ligne\n              </option>\n              <option value=\"video\" name=\"category\">\n                Film, documentaire, interview\n              </option>\n              <option value=\"spectacle\" name=\"category\">\n                Spectacle, théâtre, opéra, ballet\n              </option>\n              <option value=\"livre\" name=\"category\">\n                Livre numérique, archives\n              </option>\n              <option value=\"jeu\" name=\"category\">\n                Jeux, enigmes\n              </option>\n            </select>\n          </div>\n          <div>\n            <label className=\"label\" htmlFor=\"public\">\n              Contenu adapté aux :\n            </label>\n            <label htmlFor=\"public\" name=\"public\">\n              Enfants\n            </label>\n            <input\n              type=\"checkbox\"\n              id=\"public\"\n              value=\"kid\"\n              name=\"public\"\n              onChange={this.handleChange}\n            ></input>\n            <label htmlFor=\"access\" name=\"access\">\n              Sourds et malentendants\n            </label>\n            <input\n              type=\"checkbox\"\n              id=\"access\"\n              value=\"deaf\"\n              name=\"access\"\n              onChange={this.handleChange}\n            ></input>\n            <div></div>\n            <label htmlFor=\"url\">\n              Renseignez l'URL de la ressource en ligne :\n            </label>\n            <input\n              type=\"url\"\n              name=\"url\"\n              id=\"url\"\n              placeholder=\"https://artline.com\"\n              pattern=\"https://.*\"\n              value={this.state.url}\n              required\n              onChange={this.handleChange}\n            ></input>\n          </div>\n          <div>\n            <label htmlFor=\"title\">Activité conçue par :</label>\n            <input\n              type=\"text\"\n              name=\"owner_name\"\n              id=\"owner_name\"\n              value={this.state.owner_name}\n              onChange={this.handleChange}\n            />\n          </div>\n          <div>\n            <label className=\"label\" htmlFor=\"duration\">\n              Durée de l'activité{\" \"}\n            </label>\n            <select\n              name=\"duration\"\n              id=\"duration\"\n              onChange={this.handleChange}\n              defaultValue=\"-1\"\n            >\n              <option value=\"-1\" disabled>\n                Selectionnez\n              </option>\n              <option value=\"half\" name=\"duration\">\n                30 mins ou moins\n              </option>\n              <option value=\"one\" name=\"duration\">\n                1h environ\n              </option>\n              <option value=\"two\" name=\"duration\">\n                2h environ\n              </option>\n              <option value=\"morethantwo\" name=\"duration\">\n                Plus de 2h\n              </option>\n            </select>\n          </div>\n        </div>\n\n        <button>Envoyez !</button>\n      </form>\n    );\n  }\n}\n\nexport default withUser(withRouter(ActivityForm));\n","import React, { Component } from \"react\";\nimport ActivityForm from \"../components/Activities/ActivityForm\";\nimport ActivityCard from \"../components/Activities/ActivityCard\";\nimport { withUser } from \"../components/Auth/withUser\";\nimport apiHandler from \"../api/apiHandler.js\";\n\nexport class Profile extends Component {\n  state = {\n    formMode: null,\n    data: {},\n    creator: null,\n  };\n\n  createEvent() {\n    this.setState({ ...this.state, formMode: \"create\" });\n  }\n\n  editEvent(newData) {\n    this.setState({ ...this.state, formMode: \"edit\", data: newData });\n  }\n\n  deleteEvent(activityId) {\n    apiHandler\n      .removeActivity(activityId)\n      .then((apiRes) => {\n        this.setState({ success: true });\n        //renvoyer sur le profile\n        console.log(this.props.context);\n        this.props.context.reloadData();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  getFav(activityId) {\n    apiHandler\n      .getUserActivity(activityId)\n      .then((apiRes) => {\n        this.setState({ success: true });\n        //renvoyer sur le profile\n        console.log(this.props.context);\n        this.props.context.reloadData();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  closeForm() {\n    this.setState({ formMode: null, data: {} });\n  }\n\n  componentDidMount() {\n    let userData = this.props.context.user;\n    // let creator = this.props.context.user._id;\n    // this.setState({ ...this.state, creator });\n    console.log(userData);\n    // va me chercher les activités de l'utilisateur stp\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>Le profil perso</h1>\n        {this.state.formMode !== null && (\n          <ActivityForm\n            mode={this.state.formMode}\n            creator={this.state.creator}\n            editData={this.state.data}\n            closeForm={() => this.closeForm()}\n          />\n        )}\n        <button onClick={() => this.createEvent()}>\n          Créer une nouvelle activité\n        </button>\n        <h2>ACTIVITÉS AJOUTÉES</h2>\n\n        {this.props.context.user.activities.map((activity, i) => (\n          <ActivityCard\n            key={i}\n            activity={activity}\n            editMode\n            onEdit={(data) => this.editEvent(data)}\n            onDelete={(id) => this.deleteEvent(id)}\n          />\n        ))}\n        <div>\n          <h2>FAVORIS</h2>\n          {this.props.context.user.favorites.map((fav, i) => (\n            <ActivityCard key={i} activity={fav} />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withUser(Profile);\n","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport apiHandler from \"../../api/apiHandler\";\nimport ReviewActivity from \"../Activities/ReviewActivity\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport StarBorderIcon from \"@material-ui/icons/StarBorder\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport SentimentVeryDissatisfiedIcon from \"@material-ui/icons/SentimentVeryDissatisfied\";\nimport SentimentDissatisfiedIcon from \"@material-ui/icons/SentimentDissatisfied\";\nimport SentimentSatisfiedIcon from \"@material-ui/icons/SentimentSatisfied\";\nimport SentimentSatisfiedAltIcon from \"@material-ui/icons/SentimentSatisfiedAltOutlined\";\nimport SentimentVerySatisfiedIcon from \"@material-ui/icons/SentimentVerySatisfied\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\n\nconst StyledRating = withStyles({\n  iconFilled: {\n    color: \"#ff6d75\",\n  },\n  iconHover: {\n    color: \"#ff3d47\",\n  },\n})(Rating);\n\nexport class Activity extends Component {\n  state = {\n    activity: {\n      title: \"\",\n      _id: \"\",\n      comments: [],\n      marks: [],\n    },\n  };\n\n  componentDidMount() {\n    this.getData();\n  }\n\n  getData() {\n    let activityId = this.props.match.params.id;\n    apiHandler\n      .getActivity(activityId)\n      .then((activity) => {\n        this.setState({\n          activity,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  invert(arr) {\n    let newArr = [];\n    for (let i = arr.length - 1; i >= 0; i--) {\n      newArr.push(arr[i]);\n    }\n    console.log(newArr);\n    return newArr;\n  }\n\n  render() {\n    const marks = this.state.activity.marks.map((mark) => mark.mark);\n    console.log(marks);\n    const comments = this.state.activity.comments;\n    const mean = (\n      marks.reduce((acc, curr) => Number(acc) + Number(curr), 0) / marks.length\n    ).toFixed(2);\n\n    return (\n      <div style={{ display: \"flex\", width: \"100vw\", flexWrap: \"wrap\" }}>\n        <div\n          style={{\n            maxWidth: \"800px\",\n            textAlign: \"center\",\n            margin: \"2%\",\n            display: \"flex\",\n            justifyContent: \"flex-start\",\n            flexDirection: \"column\",\n          }}\n        >\n          {\" \"}\n          <h1>{this.state.activity.title}</h1>\n          {!!marks.length && (\n            <Box component=\"fieldset\" mb={3} borderColor=\"transparent\">\n              <Typography component=\"legend\">\n                <h2>{mean}</h2>\n              </Typography>\n              <StyledRating\n                name=\"customized-color\"\n                value={mean}\n                readOnly\n                getLabelText={(value) =>\n                  `${value} Heart${value !== 1 ? \"s\" : \"\"}`\n                }\n                precision={0.5}\n                icon={<FavoriteIcon fontSize=\"inherit\" />}\n              />\n            </Box>\n          )}\n          <img\n            style={{ height: \"300px\" }}\n            src={this.state.activity.img}\n            alt={this.state.activity.description}\n          />\n          <div>{this.state.activity.description}</div>\n        </div>\n\n        <div style={{ display: \"flex\", flexDirection: \"column\", flex: 1 }}>\n          {this.state.activity.title !== \"\" && (\n            <ReviewActivity\n              activity={this.state.activity}\n              reload={() => this.getData()}\n            />\n          )}\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-evenly\",\n              alignItems: \"space-evenly\",\n              width: \"100%\",\n              margin: \"0 auto\",\n\n              flexWrap: \"wrap\",\n              height: \"400px\",\n              overflowY: \"auto\",\n              border: \"solid 1px black\",\n              borderRadius: \"12px\",\n            }}\n          >\n            {this.invert(comments).map((comment) => (\n              <Comment key={comment._id} comment={comment} />\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction Comment(props) {\n  // apiHandler\n\n  let { user, comment } = props.comment;\n  console.log(user);\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        minWidth: \"200px\",\n        height: \"200px\",\n        borderRadius: \"12px\",\n        background: \"white\",\n        margin: \"2%\",\n        justifyContent: \"space-evenly\",\n        padding: \"20px\",\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <div\n          style={{\n            border: \"solid 1px black\",\n            borderRadius: \"15px\",\n            height: \"80px\",\n            width: \"40px\",\n          }}\n        />\n        <div>{user.name || user.email.split(\"@\")[0]}</div>\n      </div>\n      <div style={{ display: \"grid\", placeItems: \"center\" }}>\n        &laquo; {comment} &raquo;{\" \"}\n      </div>\n    </div>\n  );\n}\n\nexport default withRouter(Activity);\n","import React, { useEffect } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport NavMain from \"./components/NavMain\";\nimport Home from \"./pages/Home\";\nimport Signin from \"./pages/Signin\";\nimport Signup from \"./pages/Signup\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport Profile from \"./pages/Profile\";\nimport ActivityFullPage from \"./components/Activities/ActivityFullPage\";\nimport { useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nfunction App() {\n  const [background, setBackground] = useState(\"transparent\");\n  let { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return (\n    <div style={{ background }} className=\"App\">\n      <NavMain />\n      <div>\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/activity/:id\">\n            <ActivityFullPage />\n          </Route>\n          <Route exact path=\"/signin\">\n            <Signin setBackground={setBackground} />\n          </Route>\n          <Route exact path=\"/signup\" component={Signup} />\n          <ProtectedRoute exact path=\"/profile\" component={Profile} />\n        </Switch>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport UserProvider from \"./components/Auth/UserProvider\";\nimport App from \"./App\";\n\nimport \"./styles/reset.css\";\nimport \"./styles/global.css\";\n\nReactDOM.render(\n  <BrowserRouter onUpdate={() => window.scrollTo(0, 0)}>\n    <UserProvider>\n      <App />\n    </UserProvider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}